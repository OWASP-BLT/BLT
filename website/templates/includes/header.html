<!-- Mega Menu Content removed here; the responsive grouped mega-menu is defined later in the file -->
<i class="fas fa-plus w-5 mr-2 {% if request.resolver_match.url_name == 'register_organization' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
Register Organization
</a>
</li>
<li>
    <a href="{% url 'domains' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'domains' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-globe w-5 mr-2 {% if request.resolver_match.url_name == 'domains' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Domains
    </a>
</li>
<li>
    <a href="{% url 'map' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'map' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-map-marker-alt w-5 mr-2 {% if request.resolver_match.url_name == 'map' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Map
    </a>
</li>
<li>
    <a href="{% url 'feed' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'feed' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-rss w-5 mr-2 {% if request.resolver_match.url_name == 'feed' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Feed
    </a>
</li>
<li>
    <a href="{% url 'hackathons' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'hackathons' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-trophy w-5 mr-2 {% if request.resolver_match.url_name == 'hackathons' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Hackathons
    </a>
</li>
<li>
    <a href="{% url 'public_job_list' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'public_job_list' or request.resolver_match.url_name == 'job_detail' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-briefcase w-5 mr-2 {% if request.resolver_match.url_name == 'public_job_list' or request.resolver_match.url_name == 'job_detail' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Jobs
    </a>
</li>
<li>
    <a href="{% url 'issues' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'issues' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-bug w-5 mr-2 {% if request.resolver_match.url_name == 'issues' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Bugs
    </a>
</li>
<li>
    <a href="{% url 'github_issues' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'github_issues' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-bug w-5 mr-2 {% if request.resolver_match.url_name == 'github_issues' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Issues
    </a>
</li>
<li>
    <a href="{% url 'sizzle' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'sizzle' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-fire w-5 mr-2 {% if request.resolver_match.url_name == 'sizzle' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Time Logs
    </a>
</li>
<li>
    <a href="{% url 'checkIN' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'checkIN' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-user-check w-5 mr-2 {% if request.resolver_match.url_name == 'checkIN' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Check-In
    </a>
</li>
<li>
    <a href="{% url 'scoreboard' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'scoreboard' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-trophy w-5 mr-2 {% if request.resolver_match.url_name == 'scoreboard' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Scoreboard
    </a>
</li>
<li>
    <a href="{% url 'hunts' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'hunts' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-bug w-5 mr-2 {% if request.resolver_match.url_name == 'hunts' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Bounties
    </a>
</li>
<li>
    <a href="{% url 'reported_ips_list' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'reported_ips_list' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-exclamation-triangle w-5 mr-2 {% if request.resolver_match.url_name == 'reported_ips_list' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Reported IPs
    </a>
</li>
<li>
    <a href="{% url 'trademark_search' %}"
       class="flex items-center transition-colors {% if request.resolver_match.url_name == 'trademark_search' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
        <i class="fas fa-registered w-5 mr-2 {% if request.resolver_match.url_name == 'trademark_search' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
        Trademarks
    </a>
</li>
</ul>
<h3 class="text-sm font-semibold text-[#e74c3c] uppercase mt-6 mb-4">Communication</h3>
<ul class="space-y-2">
    <li>
        <a href="{% url 'similarity_scan' %}"
           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'similarity_scan' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
            <i class="fas fa-clone w-5 mr-2 {% if request.resolver_match.url_name == 'similarity_scan' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
            SimilarityScan
        </a>
    </li>
    <li>
        <a href="{% url 'rooms_list' %}"
           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'rooms_list' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
            <i class="fas fa-door-open w-5 mr-2 {% if request.resolver_match.url_name == 'rooms_list' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
            Rooms
        </a>
    </li>
    <li>
        <a href="{% url 'video_call' %}"
           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'video_call' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
            <i class="fas fa-video w-5 mr-2 {% if request.resolver_match.url_name == 'video_call' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
            Video Call
        </a>
    </li>
    <li>
        <a href="{% url 'banned_apps' %}"
           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'banned_apps' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
            <i class="fas fa-ban w-5 mr-2 {% if request.resolver_match.url_name == 'banned_apps' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
            Banned Apps
        </a>
    </li>
</ul>
</div>
<!-- Column 2: Projects -->
<div>
    <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mb-4">Projects</h3>
    <ul class="space-y-2">
        <li>
            <a href="{% url 'project_list' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'project_list' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-box w-5 mr-2 {% if request.resolver_match.url_name == 'project_list' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Projects
            </a>
        </li>
        <li>
            <a href="{% url 'repo_list' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'repo_list' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fab fa-github w-5 mr-2 {% if request.resolver_match.url_name == 'repo_list' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Repositories
            </a>
        </li>
        <li>
            <a href="{% url 'BiddingData' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'BiddingData' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-money-bill-wave w-5 mr-2 {% if request.resolver_match.url_name == 'BiddingData' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Bid on Issues
            </a>
        </li>
        <li>
            <a href="{% url 'blt-tomato' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'blt-tomato' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-seedling w-5 mr-2 {% if request.resolver_match.url_name == 'blt-tomato' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Funding
            </a>
        </li>
        <li>
            <a href="{% url 'bacon' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'bacon' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-coins w-5 mr-2 {% if request.resolver_match.url_name == 'bacon' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                BACON (coin)
            </a>
        </li>
        <li>
            <a href="{% url 'bacon_requests' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'bacon_requests' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-hands-helping w-5 mr-2 {% if request.resolver_match.url_name == 'bacon_requests' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Bacon Requests
            </a>
        </li>
    </ul>
    <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mt-6 mb-4">Users</h3>
    <ul class="space-y-2">
        <li>
            <a href="{% url 'users' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'users' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-user-friends w-5 mr-2 {% if request.resolver_match.url_name == 'users' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Users
            </a>
        </li>
        <li>
            <a href="{% url 'messaging' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'messaging' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-envelope w-5 mr-2 {% if request.resolver_match.url_name == 'messaging' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Messaging
            </a>
        </li>
        <li>
            <a href="{% url 'user_challenges' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'user_challenges' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-flag-checkered w-5 mr-2 {% if request.resolver_match.url_name == 'user_challenges' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Challenges
            </a>
        </li>
        <li>
            <a href="{% url 'staking_home' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'staking_home' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-coins w-5 mr-2 {% if request.resolver_match.url_name == 'staking_home' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Staking
            </a>
        </li>
        <li>
            <a href="{% url 'leaderboard_global' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'leaderboard_global' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-medal w-5 mr-2 {% if request.resolver_match.url_name == 'leaderboard_global' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Leaderboard
            </a>
        </li>
        <li>
            <a href="{% url 'contributors' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'contributors' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-laptop-code w-5 mr-2 {% if request.resolver_match.url_name == 'contributors' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Contributors
            </a>
        </li>
        <li>
            <a href="{% url 'deletions' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'deletions' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-trash-alt w-5 mr-2 {% if request.resolver_match.url_name == 'deletions' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Takedowns
            </a>
        </li>
        <li>
            <a href="{% url 'badges' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'badges' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-certificate w-5 mr-2 {% if request.resolver_match.url_name == 'badges' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Badges
            </a>
        </li>
        <li>
            <a href="{% url 'adventure_list' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'adventure_list' or request.resolver_match.url_name == 'adventure_detail' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-rocket w-5 mr-2 {% if request.resolver_match.url_name == 'adventure_list' or request.resolver_match.url_name == 'adventure_detail' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Adventures
            </a>
        </li>
        <li>
            <a href="{% url 'reminder_settings' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'reminder_settings' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-bell w-5 mr-2 {% if request.resolver_match.url_name == 'reminder_settings' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Reminder Settings
            </a>
        </li>
    </ul>
    <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mt-6 mb-4">Language</h3>
    <form action="{% url 'set_language' %}"
          method="post"
          class="flex items-center">
        {% csrf_token %}
        <i class="fas fa-globe-americas w-5 mr-2 text-gray-700 dark:text-gray-300"></i>
        <select name="language"
                onchange="this.form.submit()"
                class="form-select w-full text-gray-700 dark:text-gray-300 hover:text-[#e74c3c] bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md">
            {% get_current_language as LANGUAGE_CODE %}
            {% get_available_languages as LANGUAGES %}
            {% for lang_code, lang_name in LANGUAGES %}
                <option value="{{ lang_code }}"
                        {% if lang_code == LANGUAGE_CODE %}selected{% endif %}>{{ lang_name }}</option>
            {% endfor %}
        </select>
    </form>
</div>
<!-- Column 3: Teams and About -->
<div>
    <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mb-4">Teams</h3>
    <ul class="space-y-2">
        <li>
            <a href="{% url 'team_overview' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'team_overview' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-users w-5 mr-2 {% if request.resolver_match.url_name == 'team_overview' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Teams
            </a>
        </li>
        <li>
            <a href="{% url 'team_challenges' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'team_challenges' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-flag-checkered w-5 mr-2 {% if request.resolver_match.url_name == 'team_challenges' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Team Challenges
            </a>
        </li>
        <li>
            <a href="{% url 'team_leaderboard' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'team_leaderboard' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-medal w-5 mr-2 {% if request.resolver_match.url_name == 'team_leaderboard' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Team Leaderboard
            </a>
        </li>
    </ul>
    <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mt-6 mb-4">About Us</h3>
    <ul class="space-y-2">
        <li>
            <a href="{% url 'about' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'about' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-info-circle w-5 mr-2 {% if request.resolver_match.url_name == 'about' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                About Us
            </a>
        </li>
        <li>
            <a href="{% url 'features' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'features' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fa-solid fa-gear w-5 mr-2 {% if request.resolver_match.url_name == 'features' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Features
            </a>
        </li>
        <li>
            <a href="{% url 'sponsor' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'sponsor' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-handshake w-5 mr-2 {% if request.resolver_match.url_name == 'sponsor' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Sponsorships
            </a>
        </li>
        <li>
            <a href="https://owasp.org/www-project-bug-logging-tool/"
               target="_blank"
               class="flex items-center text-gray-700 dark:text-gray-300 hover:text-[#e74c3c]"><i class="fas fa-shield-alt w-5 mr-2"></i>OWASP Project</a>
        </li>
        <li>
            <a href="{% url 'donate' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'donate' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-donate w-5 mr-2 {% if request.resolver_match.url_name == 'donate' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Donations
            </a>
        </li>
        <li>
            <a href="{% url 'view_forum' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'view_forum' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-comments w-5 mr-2 {% if request.resolver_match.url_name == 'view_forum' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Forum
            </a>
        </li>
    </ul>
    <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mt-6 mb-4">Resources</h3>
    <ul class="space-y-2">
        <li>
            <a href="https://www.figma.com/file/2lfEZKvqcb4WxRPYEwJqeE/OWASP-BLT?type=design&node-id=0%3A1&mode=design&t=Hy0GZXlVxBPHQMxr-1"
               target="_blank"
               class="flex items-center text-gray-700 dark:text-gray-300 hover:text-[#e74c3c]"><i class="fab fa-figma w-5 mr-2"></i>Design</a>
        </li>
        <li>
            <a href="{% url 'style_guide' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'style_guide' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-palette w-5 mr-2 {% if request.resolver_match.url_name == 'style_guide' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Style Guide
            </a>
        </li>
        <li>
            <a href="https://github.com/OWASP-BLT/BLT/blob/main/website/templates/{{ current_template }}"
               target="_blank"
               class="flex items-center text-gray-700 dark:text-gray-300 hover:text-[#e74c3c]"><i class="fas fa-edit w-5 mr-2"></i>Edit this page</a>
        </li>
    </ul>
</div>
<!-- Column 4: Contribute and GitHub -->
<div>
    <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mb-4">Contribute</h3>
    <ul class="space-y-2">
        <li>
            <a href="{% url 'contribution_guidelines' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'contribution_guidelines' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-hands-helping w-5 mr-2 {% if request.resolver_match.url_name == 'contribution_guidelines' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Contribute
            </a>
        </li>
        <li>
            <a href="https://github.com/OWASP/BLT/blob/main/Setup.md"
               target="_blank"
               class="flex items-center text-gray-700 dark:text-gray-300 hover:text-[#e74c3c]"><i class="fas fa-book w-5 mr-2"></i>Documentation</a>
        </li>
        <li>
            <a href="https://blt.owasp.org/swagger/"
               target="_blank"
               class="flex items-center text-gray-700 dark:text-gray-300 hover:text-[#e74c3c]"><i class="fas fa-cogs w-5 mr-2"></i>Developer API</a>
        </li>
        <li>
            <a href="{% url 'education' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'education' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-tv w-5 mr-2 {% if request.resolver_match.url_name == 'education' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Education
            </a>
        </li>
        <li>
            <a href="{% url 'simulation_dashboard' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'simulation_dashboard' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-flask w-5 mr-2 {% if request.resolver_match.url_name == 'simulation_dashboard' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Security Labs
            </a>
        </li>
        <li>
            <a href="{% url 'ossh_home' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'ossh_home' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-hat-wizard w-5 mr-2 {% if request.resolver_match.url_name == 'ossh_home' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Open Source Sorting Hat
            </a>
        </li>
        <li>
            <a href="{% url 'gsoc' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'gsoc' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-sun w-5 mr-2 {% if request.resolver_match.url_name == 'gsoc' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                GSOC
            </a>
        </li>
        <li>
            <a href="{% url 'roadmap' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'roadmap' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-road w-5 mr-2 {% if request.resolver_match.url_name == 'roadmap' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Roadmap
            </a>
        </li>
        <li>
            <a href="{% url 'submit-roadmap-pr' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'submit-roadmap-pr' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-code-branch w-5 mr-2 {% if request.resolver_match.url_name == 'submit-roadmap-pr' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Submit PR for review
            </a>
        </li>
        <li>
            <a href="{% url 'github_issue_prompt' %}"
               class="flex items-center transition-colors {% if request.resolver_match.url_name == 'github_issue_prompt' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                <i class="fas fa-code-branch w-5 mr-2 {% if request.resolver_match.url_name == 'github_issue_prompt' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                Create an Issue
            </a>
        </li>
    </ul>
    <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mt-6 mb-4">GitHub</h3>
    <ul class="space-y-2">
        <li>
            <a href="https://github.com/OWASP/BLT"
               target="_blank"
               class="flex items-center text-gray-700 dark:text-gray-300 hover:text-[#e74c3c]"><i class="fab fa-github w-5 mr-2"></i>GitHub</a>
        </li>
        <li>
            <a href="https://github.com/OWASP-BLT/BLT/"
               target="_blank"
               class="flex items-center text-gray-700 dark:text-gray-300 hover:text-[#e74c3c]"><i class="fas fa-code-branch w-5 mr-2"></i>BLT Core</a>
        </li>
        <li>
            <a href="https://github.com/OWASP-BLT/BLT-Flutter"
               target="_blank"
               --
               Mega
               Menu
               Content
               -->
                <div id="mega-menu"
                     class="mega-menu hidden fixed top-[80px] left-0 right-0 bg-white dark:bg-gray-900 shadow-lg border-b border-gray-200 dark:border-gray-700 max-h-[80vh] overflow-y-auto z-50 transition-colors duration-300">
                    <div class="container mx-auto px-4 py-6">
                        <!-- Responsive grid: 1 col mobile, 2 cols small, 3 cols medium, 4 cols large -->
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                            <!-- Organizations -->
                            <div>
                                <h3 class="text-sm font-semibold text-[#e74c3c] dark:text-[#e74c3c] uppercase mb-4">Organizations</h3>
                                <ul class="space-y-2">
                                    <li>
                                        <a href="{% url 'organizations' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'organizations' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-building w-5 mr-2 {% if request.resolver_match.url_name == 'organizations' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Organizations
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'register_organization' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'register_organization' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-plus w-5 mr-2 {% if request.resolver_match.url_name == 'register_organization' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Register Organization
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'domains' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'domains' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-globe w-5 mr-2 {% if request.resolver_match.url_name == 'domains' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Domains
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'map' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'map' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-map-marker-alt w-5 mr-2 {% if request.resolver_match.url_name == 'map' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Map
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'feed' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'feed' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-rss w-5 mr-2 {% if request.resolver_match.url_name == 'feed' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Feed
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'public_job_list' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'public_job_list' or request.resolver_match.url_name == 'job_detail' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-briefcase w-5 mr-2 {% if request.resolver_match.url_name == 'public_job_list' or request.resolver_match.url_name == 'job_detail' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Jobs
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <!-- Projects -->
                            <div>
                                <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mb-4">Projects</h3>
                                <ul class="space-y-2">
                                    <li>
                                        <a href="{% url 'project_list' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'project_list' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-box w-5 mr-2 {% if request.resolver_match.url_name == 'project_list' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Projects
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'repo_list' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'repo_list' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fab fa-github w-5 mr-2 {% if request.resolver_match.url_name == 'repo_list' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Repositories
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'BiddingData' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'BiddingData' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-money-bill-wave w-5 mr-2 {% if request.resolver_match.url_name == 'BiddingData' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Bid on Issues
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'blt-tomato' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'blt-tomato' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-seedling w-5 mr-2 {% if request.resolver_match.url_name == 'blt-tomato' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Funding
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'bacon' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'bacon' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-coins w-5 mr-2 {% if request.resolver_match.url_name == 'bacon' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            BACON (coin)
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'bacon_requests' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'bacon_requests' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-hands-helping w-5 mr-2 {% if request.resolver_match.url_name == 'bacon_requests' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Bacon Requests
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <!-- Users & Teams -->
                            <div>
                                <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mb-4">Users</h3>
                                <ul class="space-y-2">
                                    <li>
                                        <a href="{% url 'users' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'users' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-user-friends w-5 mr-2 {% if request.resolver_match.url_name == 'users' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Users
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'messaging' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'messaging' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-envelope w-5 mr-2 {% if request.resolver_match.url_name == 'messaging' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Messaging
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'user_challenges' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'user_challenges' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-flag-checkered w-5 mr-2 {% if request.resolver_match.url_name == 'user_challenges' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Challenges
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'staking_home' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'staking_home' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-coins w-5 mr-2 {% if request.resolver_match.url_name == 'staking_home' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Staking
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'leaderboard_global' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'leaderboard_global' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-medal w-5 mr-2 {% if request.resolver_match.url_name == 'leaderboard_global' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Leaderboard
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'contributors' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'contributors' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark:hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-laptop-code w-5 mr-2 {% if request.resolver_match.url_name == 'contributors' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Contributors
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'deletions' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'deletions' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-trash-alt w-5 mr-2 {% if request.resolver_match.url_name == 'deletions' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Takedowns
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'badges' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'badges' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-certificate w-5 mr-2 {% if request.resolver_match.url_name == 'badges' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Badges
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'adventure_list' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'adventure_list' or request.resolver_match.url_name == 'adventure_detail' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-rocket w-5 mr-2 {% if request.resolver_match.url_name == 'adventure_list' or request.resolver_match.url_name == 'adventure_detail' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Adventures
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'reminder_settings' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'reminder_settings' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-bell w-5 mr-2 {% if request.resolver_match.url_name == 'reminder_settings' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Reminder Settings
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <!-- Contribute & Resources -->
                            <div>
                                <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mb-4">Contribute</h3>
                                <ul class="space-y-2">
                                    <li>
                                        <a href="{% url 'contribution_guidelines' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'contribution_guidelines' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover:text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %} ">
                                            <i class="fas fa-hands-helping w-5 mr-2 {% if request.resolver_match.url_name == 'contribution_guidelines' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Contribute
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://github.com/OWASP/BLT/blob/main/Setup.md"
                                           target="_blank"
                                           class="flex items-center text-gray-700 dark:text-gray-300 hover:text-[#e74c3c]"><i class="fas fa-book w-5 mr-2"></i>Documentation</a>
                                    </li>
                                    <li>
                                        <a href="https://blt.owasp.org/swagger/"
                                           target="_blank"
                                           class="flex items-center text-gray-700 dark:text-gray-300 hover:text-[#e74c3c]"><i class="fas fa-cogs w-5 mr-2"></i>Developer API</a>
                                    </li>
                                    <li>
                                        <a href="{% url 'education' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'education' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-tv w-5 mr-2 {% if request.resolver_match.url_name == 'education' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Education
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'simulation_dashboard' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'simulation_dashboard' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-flask w-5 mr-2 {% if request.resolver_match.url_name == 'simulation_dashboard' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Security Labs
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'ossh_home' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'ossh_home' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-hat-wizard w-5 mr-2 {% if request.resolver_match.url_name == 'ossh_home' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Open Source Sorting Hat
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'gsoc' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'gsoc' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-sun w-5 mr-2 {% if request.resolver_match.url_name == 'gsoc' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            GSOC
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'roadmap' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'roadmap' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-road w-5 mr-2 {% if request.resolver_match.url_name == 'roadmap' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Roadmap
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'submit-roadmap-pr' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'submit-roadmap-pr' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-code-branch w-5 mr-2 {% if request.resolver_match.url_name == 'submit-roadmap-pr' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Submit PR for review
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'github_issue_prompt' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'github_issue_prompt' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-code-branch w-5 mr-2 {% if request.resolver_match.url_name == 'github_issue_prompt' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Create an Issue
                                        </a>
                                    </li>
                                </ul>
                                <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mt-6 mb-4">Resources</h3>
                                <ul class="space-y-2">
                                    <li>
                                        <a href="https://www.figma.com/file/2lfEZKvqcb4WxRPYEwJqeE/OWASP-BLT?type=design&node-id=0%3A1&mode=design&t=Hy0GZXlVxBPHQMxr-1"
                                           target="_blank"
                                           class="flex items-center text-gray-700 dark:text-gray-300 hover:text-[#e74c3c]"><i class="fab fa-figma w-5 mr-2"></i>Design</a>
                                    </li>
                                    <li>
                                        <a href="{% url 'style_guide' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'style_guide' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-palette w-5 mr-2 {% if request.resolver_match.url_name == 'style_guide' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Style Guide
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://github.com/OWASP-BLT/BLT/blob/main/website/templates/{{ current_template }}"
                                           target="_blank"
                                           class="flex items-center text-gray-700 dark:text-gray-300 hover:text-[#e74c3c]"><i class="fas fa-edit w-5 mr-2"></i>Edit this page</a>
                                    </li>
                                    <li>
                                        <a href="https://github.com/OWASP-BLT/BLT"
                                           target="_blank"
                                           class="flex items-center text-gray-700 dark:text-gray-300 hover-text-[#e74c3c]"><i class="fab fa-github w-5 mr-2"></i>GitHub</a>
                                    </li>
                                    <li>
                                        <a href="https://github.com/OWASP-BLT/BLT/"
                                           target="_blank"
                                           class="flex items-center text-gray-700 dark:text-gray-300 hover-text-[#e74c3c]"><i class="fas fa-code-branch w-5 mr-2"></i>BLT Core</a>
                                    </li>
                                    <li>
                                        <a href="https://github.com/OWASP-BLT/BLT-Flutter"
                                           target="_blank"
                                           class="flex items-center text-gray-700 dark:text-gray-300 hover-text-[#e74c3c]"><i class="fas fa-mobile-alt w-5 mr-2"></i>BLT Flutter</a>
                                    </li>
                                </ul>
                                <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mt-6 mb-4">Apps & Social</h3>
                                <ul class="space-y-2">
                                    <li>
                                        <a href="https://apps.apple.com/us/app/owasp-blt/id6448071954"
                                           target="_blank"
                                           class="flex items-center text-gray-700 dark:text-gray-300 hover-text-[#e74c3c]"><i class="fab fa-apple w-5 mr-2"></i>iPhone App</a>
                                    </li>
                                    <li>
                                        <a href="{% url 'extension' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'extension' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover-bg-[#feeae9] dark-hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-puzzle-piece w-5 mr-2 {% if request.resolver_match.url_name == 'extension' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Chrome Extension
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://x.com/owasp_blt"
                                           target="_blank"
                                           class="flex items-center text-gray-700 dark:text-gray-300 hover-text-[#e74c3c]"><i class="fab fa-x-twitter w-5 mr-2"></i>Twitter</a>
                                    </li>
                                    <li>
                                        <a href="https://www.facebook.com/groups/owaspfoundation/"
                                           target="_blank"
                                           class="flex items-center text-gray-700 dark:text-gray-300 hover-text-[#e74c3c]"><i class="fab fa-facebook w-5 mr-2"></i>Facebook</a>
                                    </li>
                                    <li>
                                        <a href="{% url 'post_list' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'post_list' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover-bg-[#feeae9] dark-hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-blog w-5 mr-2 {% if request.resolver_match.url_name == 'post_list' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Blog
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://owasp.org/slack/invite"
                                           target="_blank"
                                           class="flex items-center text-gray-700 dark:text-gray-300 hover-text-[#e74c3c]"><i class="fab fa-slack w-5 mr-2"></i>Slack</a>
                                    </li>
                                </ul>
                            </div>
                            <!-- More: Legal, Language, Site Info -->
                            <div>
                                <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mb-4">More</h3>
                                <ul class="space-y-2">
                                    <li>
                                        <a href="{% url 'terms' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'terms' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover:bg-[#feeae9] dark:hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-file-contract w-5 mr-2 {% if request.resolver_match.url_name == 'terms' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Terms
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'sitemap' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'sitemap' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover-bg-[#feeae9] dark-hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-sitemap w-5 mr-2 {% if request.resolver_match.url_name == 'sitemap' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Sitemap
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'status_page' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'status_page' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover-bg-[#feeae9] dark-hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-check-circle w-5 mr-2 {% if request.resolver_match.url_name == 'status_page' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Status
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'stats' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'stats' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover-bg-[#feeae9] dark-hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-chart-line w-5 mr-2 {% if request.resolver_match.url_name == 'stats' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Stats
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'stats_dashboard' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'stats_dashboard' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover-bg-[#feeae9] dark-hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-chart-bar w-5 mr-2 {% if request.resolver_match.url_name == 'stats_dashboard' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Stats Dashboard
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'template_list' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'template_list' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover-bg-[#feeae9] dark-hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-list w-5 mr-2 {% if request.resolver_match.url_name == 'template_list' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Template List
                                        </a>
                                    </li>
                                    <li>
                                        <a href="{% url 'website_stats' %}"
                                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'website_stats' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 hover-bg-[#feeae9] dark-hover:bg-red-900/30 hover-text-[#e74c3c] cursor-default {% else %} text-gray-700 dark:text-gray-200 hover-text-[#e74c3c] dark-hover:text-[#e74c3c] hover-bg-gray-100 dark-hover-bg-gray-800 {% endif %} ">
                                            <i class="fas fa-chart-line w-5 mr-2 {% if request.resolver_match.url_name == 'website_stats' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %} "></i>
                                            Website Stats
                                        </a>
                                    </li>
                                </ul>
                                <!-- Language selector moved under More -->
                                <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mt-6 mb-4">Language</h3>
                                <form action="{% url 'set_language' %}"
                                      method="post"
                                      class="flex items-center">
                                    {% csrf_token %}
                                    <i class="fas fa-globe-americas w-5 mr-2 text-gray-700 dark:text-gray-300"></i>
                                    <select name="language"
                                            onchange="this.form.submit()"
                                            class="form-select w-full text-gray-700 dark:text-gray-300 hover:text-[#e74c3c] bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md">
                                        {% get_current_language as LANGUAGE_CODE %}
                                        {% get_available_languages as LANGUAGES %}
                                        {% for lang_code, lang_name in LANGUAGES %}
                                            <option value="{{ lang_code }}"
                                                    {% if lang_code == LANGUAGE_CODE %}selected{% endif %}>
                                                {{ lang_name }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <li>
                    <a class="flex items-center gap-1.5 py-3 px-4 bg-[#e74c3c] hover:bg-[#c0392b] hover:text-white rounded-md text-white transition-colors duration-200 font-bold"
                       href="{% url 'account_logout' %}?next={{ request.path }}">
                        <i class="fa fa-sign-out fa-fw"></i> {% trans "Logout" %}
                    </a>
                </li>
            </ul>
        </div>
    </div>
{% else %}
    <!-- Sign up and Log in Buttons -->
    <div class="flex items-center gap-4">
        <!-- Dark Mode Toggle -->
        <div class="hidden ml-4 md:block">{% include 'dark_mode_toggle.html' %}</div>
        <div class="hidden lg:flex justify-center items-center gap-4">
            <a href="{% url 'account_signup' %}"
               class="inline-flex select-none items-center justify-center px-3 py-2 text-red-500 border-2 border-red-500 rounded-lg hover:bg-red-500 hover:text-white font-medium transition-colors duration-200">
                {% trans "Signup" %}
            </a>
            <a href="{% url 'account_login' %}?next={{ request.path }}"
               data-toggle="modal"
               class="inline-flex select-none items-center justify-center px-3 py-2 text-red-500 border-2 border-red-500 rounded-lg hover:bg-red-500 hover:text-white font-medium transition-colors duration-200">
                {% trans "Login" %}
            </a>
        </div>
        <!-- Log in icon -->
        <a href="{% url 'account_login' %}?next={{ request.path }}"
           class="block lg:hidden m-2">
            <i class="fa fa-user text-4xl text-red-500"></i>
        </a>
    </div>
{% endif %}
</div>
</div>
<!-- Mega Menu Content -->
<div id="mega-menu"
     class="mega-menu hidden fixed top-[80px] left-0 right-0 bg-white dark:bg-gray-900 shadow-lg border-b border-gray-200 dark:border-gray-700 max-h-[80vh] overflow-y-auto z-50 transition-colors duration-300">
    <div class="container mx-auto px-4 py-6">
        <!-- Responsive grid: 1 col mobile, 2 cols small, 3 cols medium, 4 cols large -->
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <!-- Organizations -->
            <div>
                <h3 class="text-sm font-semibold text-[#e74c3c] dark:text-[#e74c3c] uppercase mb-4">Organizations</h3>
                <ul class="space-y-2">
                    <li>
                        <a href="{% url 'organizations' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'organizations' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}">
                            <i class="fas fa-building w-5 mr-2 {% if request.resolver_match.url_name == 'organizations' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %}"></i>
                            Organizations
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'register_organization' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'register_organization' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}">
                            <i class="fas fa-plus w-5 mr-2 {% if request.resolver_match.url_name == 'register_organization' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %}"></i>
                            Register Organization
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'domains' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'domains' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}">
                            <i class="fas fa-globe w-5 mr-2 {% if request.resolver_match.url_name == 'domains' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %}"></i>
                            Domains
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'map' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'map' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}">
                            <i class="fas fa-map-marker-alt w-5 mr-2 {% if request.resolver_match.url_name == 'map' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %}"></i>
                            Map
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'feed' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'feed' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}">
                            <i class="fas fa-rss w-5 mr-2 {% if request.resolver_match.url_name == 'feed' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %}"></i>
                            Feed
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'hackathons' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'hackathons' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}">
                            <i class="fas fa-trophy w-5 mr-2 {% if request.resolver_match.url_name == 'hackathons' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %}"></i>
                            Hackathons
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'public_job_list' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'public_job_list' or request.resolver_match.url_name == 'job_detail' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}">
                            <i class="fas fa-briefcase w-5 mr-2 {% if request.resolver_match.url_name == 'public_job_list' or request.resolver_match.url_name == 'job_detail' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %}"></i>
                            Jobs
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'issues' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'issues' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}">
                            <i class="fas fa-bug w-5 mr-2 {% if request.resolver_match.url_name == 'issues' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %}"></i>
                            Bugs
                        </a>
                    </li>
                </ul>
            </div>
            <!-- Projects -->
            <div>
                <h3 class="text-sm font-semibold text-[#e74c3c] uppercase mb-4">Projects</h3>
                <ul class="space-y-2">
                    <li>
                        <a href="{% url 'project_list' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'project_list' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}"><i class="fas fa-box w-5 mr-2 {% if request.resolver_match.url_name == 'project_list' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %}"></i>Projects</a>
                    </li>
                    <li>
                        <a href="{% url 'repo_list' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'repo_list' %} text-[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}"><i class="fab fa-github w-5 mr-2 {% if request.resolver_match.url_name == 'repo_list' %} text[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %}"></i>Repositories</a>
                    </li>
                    <li>
                        <a href="{% url 'BiddingData' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'BiddingData' %} text[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text-[#e74c3c] dark:hover:text-[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}"><i class="fas fa-money-bill-wave w-5 mr-2 {% if request.resolver_match.url_name == 'BiddingData' %} text-[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] {% endif %}"></i>Bid on Issues</a>
                    </li>
                    <li>
                        <a href="{% url 'blt-tomato' %}"
                           class="flex items-center transition-colors {% if request.resolver_match.url_name == 'blt-tomato' %} text[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text-gray-700 dark:text-gray-200 hover:text[#e74c3c] dark:hover:text[#e74c3c] hover:bg-gray-100 dark:hover:bg-gray-800 {% endif %}"><i class="fas fa-seedling w-5 mr-2 {% if request.resolver_match.url_name == 'blt-tomato' %} text[#e74c3c] {% else %} text-gray-500 dark:text-gray-400 group-hover:text[#e74c3c] {% endif %}"></i>Funding</a>
                    </li>
                    <li>
                        <a href="{% url 'bacon' %}" class="flex items-center transition-colors {% if request.resolver_match.url_name == 'bacon' %} text[#e74c3c] bg-[#feeae9] dark:bg-red-900/30 cursor-default {% else %} text_gray... (TRUNCATED)
                            document.addEventListener('DOMContentLoaded', function () {
                            const dropdownButton = document.getElementById('dropdownButton');
                            const dropdownMenu = document.getElementById('dropdownMenu');
                            if (dropdownButton && dropdownMenu) {
                            // Toggle dropdown on button click
                            dropdownButton.addEventListener('click', function (e) {
                            e.preventDefault();
                            e.stopPropagation();
                            dropdownMenu.classList.toggle('hidden');
                            });
                            // Close dropdown when clicking outside
                            document.addEventListener('click', function (e) {
                            if (!dropdownButton.contains(e.target) && !dropdownMenu.contains(e.target)) {
                            dropdownMenu.classList.add('hidden');
                            }
                            });
                            }
                            });
                            </script>
                            <script>
        function toggleMobileSearch() {
            const mobileSearch = document.getElementById('mobile-search');
            mobileSearch.classList.toggle('hidden');
            mobileSearch.classList.toggle('active');
        }
                            </script>
                            <script>
    // Recent Searches Dropdown Functionality
    {% if user.is_authenticated %}
    document.addEventListener("DOMContentLoaded", function () {
        const queryInput = document.getElementById("query-input");
        const recentSearchesDropdown = document.getElementById("recent-searches-dropdown");
        const recentSearchesList = document.getElementById("recent-searches-list");
        const clearHistoryBtn = document.getElementById("clear-search-history-header");
        
        if (!queryInput || !recentSearchesDropdown) return;
        
        let recentSearches = [];
        
        // Fetch recent searches
        async function fetchRecentSearches() {
            try {
                const response = await fetch("{% url 'search_history_api' %}", {
                    method: "GET",
                    headers: {
                        "X-CSRFToken": "{{ csrf_token }}",
                    },
                });
                
                if (response.ok) {
                    recentSearches = await response.json();
                    displayRecentSearches();
                }
            } catch (error) {
                console.error("Error fetching recent searches:", error);
            }
        }
        
        // Display recent searches in dropdown
        function displayRecentSearches() {
            if (recentSearches.length === 0) {
                recentSearchesList.innerHTML = '<div class="px-4 py-2 text-sm text-gray-500 dark:text-gray-400">No recent searches</div>';
                return;
            }
            
            recentSearchesList.innerHTML = recentSearches.slice(0, 10).map(search => {
                const searchTypeDisplay = search.search_type === 'all' ? 'All' : 
                    search.search_type.charAt(0).toUpperCase() + search.search_type.slice(1);
                // Ensure search.id is a number to prevent XSS
                const searchId = parseInt(search.id, 10);
                if (isNaN(searchId)) {
                    return ''; // Skip invalid entries
                }
                return `
                    <div class="flex items-center justify-between px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 group">
                        <a href="{% url 'search' %}?query=${encodeURIComponent(search.query)}&type=${encodeURIComponent(search.search_type)}" class="flex-1 text-gray-700 dark:text-gray-300 text-sm">
                            <div class="flex items-center justify-between">
                                <span>${escapeHtml(search.query)}</span>
                                <span class="text-xs text-gray-500 dark:text-gray-400 ml-2">${searchTypeDisplay}</span>
                            </div>
                        </a>
                        <button type="button" class="ml-2 opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-600 dark:hover:text-red-400 p-1 delete-search-btn" data-search-id="${searchId}" title="Delete this search">
                            <i class="fa fa-times text-xs"></i>
                        </button>
                    </div>
                `;
            }).filter(html => html !== '').join('');
        }

        // Delegate delete button clicks to avoid inline onclick with template interpolation
        if (recentSearchesList && !recentSearchesList._hasDeleteListener) {
            recentSearchesList.addEventListener('click', function(e) {
                const btn = e.target.closest('button.delete-search-btn');
                if (!btn) return;
                const id = btn.getAttribute('data-search-id');
                if (!id) return;
                deleteSearchItem(e, id);
            });
            recentSearchesList._hasDeleteListener = true;
        }
        
        // Escape HTML to prevent XSS
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        // Show dropdown on focus
        queryInput.addEventListener("focus", function() {
            if (recentSearches.length === 0) {
                fetchRecentSearches();
            }
            recentSearchesDropdown.classList.remove("hidden");
        });
        
        // Hide dropdown when clicking outside
        document.addEventListener("click", function(e) {
            if (!queryInput.contains(e.target) && !recentSearchesDropdown.contains(e.target)) {
                recentSearchesDropdown.classList.add("hidden");
            }
        });
        
        // Delete single search item
        window.deleteSearchItem = async function(e, searchId) {
            e.preventDefault();
            e.stopPropagation();
            
            // Validate searchId is a number
            const id = parseInt(searchId, 10);
            if (isNaN(id) || id <= 0) {
                alert("Invalid search item ID.");
                return;
            }
            
            try {
                const response = await fetch("{% url 'search_history_api' %}?id=" + id, {
                    method: "DELETE",
                    headers: {
                        "X-CSRFToken": "{{ csrf_token }}",
                        "Content-Type": "application/json",
                    },
                });
                
                if (response.ok) {
                    // Remove from local array and refresh display
                    recentSearches = recentSearches.filter(s => s.id !== id);
                    displayRecentSearches();
                } else {
                    alert("Failed to delete search item.");
                }
            } catch (error) {
                console.error("Error deleting search item:", error);
                alert("Failed to delete search item.");
            }
        };
        
        // Clear history handler
        if (clearHistoryBtn) {
            clearHistoryBtn.addEventListener("click", async function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                try {
                    const response = await fetch("{% url 'search_history_api' %}", {
                        method: "DELETE",
                        headers: {
                            "X-CSRFToken": "{{ csrf_token }}",
                            "Content-Type": "application/json",
                        },
                    });
                    
                    if (response.ok) {
                        recentSearches = [];
                        displayRecentSearches();
                    } else {
                        alert("Failed to clear search history.");
                    }
                } catch (error) {
                    console.error("Error clearing search history:", error);
                    alert("Failed to clear search history.");
                }
            });
        }
        
        // Initial fetch if input is already focused
        if (document.activeElement === queryInput) {
            fetchRecentSearches();
        }
    });
    {% endif %}
                            </script>
                            <script>
    document.addEventListener("DOMContentLoaded", function () {
        const notificationButton = document.getElementById("notificationButton");
        const notificationDropdown = document.getElementById("notificationDropdown");
        const unreadCount = document.getElementById("unreadCount");
        const notificationList = document.getElementById("notificationList");

        // Early exit if notification elements don't exist (unauthenticated users)
        if (!notificationButton || !notificationDropdown || !unreadCount || !notificationList) {
            return;
        }

        async function fetchNotifications() {
            try {
                const response = await fetch("{% url 'fetch_notifications' %}", {
                    method: "GET",
                    headers: {
                        "X-CSRFToken": "{{ csrf_token }}",
                    },
                });

                if (!response.ok) {
                    throw new Error("Failed to fetch notifications");
                }

                const data = await response.json();
                if (!data || !Array.isArray(data.notifications)) {
                    console.error("Invalid notifications data format");
                    notificationList.innerHTML = "<p class='text-sm text-gray-500 dark:text-gray-500'>Unable to load notifications.</p>";
                    return;
                }
        
                const notifications = data.notifications;
        

                notificationList.innerHTML = "";

                const unreadNotifications = notifications.filter(notification => !notification.is_read);
                if (unreadNotifications.length > 0) {
                    unreadCount.textContent = unreadNotifications.length;
                    unreadCount.classList.remove("hidden"); 
                } else {
                    unreadCount.textContent = ""; 
                    unreadCount.classList.add("hidden"); 
                }

                if (notifications.length === 0) {
                    notificationList.innerHTML = "<p class='text-sm text-gray-500 dark:text-gray-500'>No new notifications.</p>";
                    return;
                }

                notifications.forEach(notification => {
                    const notificationItem = document.createElement("div");
                    notificationItem.classList.add(
                        "flex", "items-start", "gap-3", "p-3", "rounded-lg", "hover:bg-gray-100", "transition-colors",
                        !notification.is_read ? "bg-gray-50" : "bg-white", 
                        !notification.is_read ? "font-semibold" : "font-normal" 
                    );

                    if (notification.link) {
                        notificationItem.addEventListener("click", () => {
                            window.location.href = notification.link;
                        });
                        notificationItem.classList.add("cursor-pointer");
                    }

                    notificationItem.innerHTML = `
                        <div class="flex-shrink-0">
                            ${getNotificationIcon(notification.notification_type)}
                        </div>
                        <div class="flex-1">
                            <p class="text-sm">${notification.message}</p>
                            <p class="text-xs text-gray-500 dark:text-gray-500">${timeSince(notification.created_at)} ago</p>
                        </div>
                        <button class="delete-notification p-1 text-gray-400 dark:text-gray-600 hover:text-red-500 transition-colors" data-notification-id="${notification.id}">
                            <i class="fa fa-times"></i>
                        </button>
                    `;

                    notificationList.appendChild(notificationItem);
                });

                document.querySelectorAll(".delete-notification").forEach(button => {
                    button.addEventListener("click", function (e) {
                        e.stopPropagation();
                        const notificationId = this.getAttribute("data-notification-id");
                        deleteNotification(notificationId, this.closest("div")); 
                    });
                });
            } catch (error) {
                console.error(error);
                notificationList.innerHTML = "<p class='text-sm text-gray-500 dark:text-gray-500'>Error loading notifications.</p>";
            }
        }

        function getNotificationIcon(type) {
            switch (type) {
                case "alert":
                    return '<i class="fa fa-exclamation-circle text-red-500 fa-lg"></i>';
                case "reminder":
                    return '<i class="fa fa-clock text-yellow-500 fa-lg"></i>';
                case "promo":
                    return '<i class="fa fa-tag text-green-500 fa-lg"></i>';
                case "reward":
                    return '<i class="fa fa-gift text-purple-500 fa-lg"></i>';
                default:
                    return '<i class="fa fa-info-circle text-blue-500 fa-lg"></i>';
            }
        }

        function timeSince(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const seconds = Math.floor((now - date) / 1000);

            let interval = Math.floor(seconds / 31536000);
            if (interval > 1) return interval + " years";

            interval = Math.floor(seconds / 2592000);
            if (interval > 1) return interval + " months";

            interval = Math.floor(seconds / 86400);
            if (interval > 1) return interval + " days";

            interval = Math.floor(seconds / 3600);
            if (interval > 1) return interval + " hours";

            interval = Math.floor(seconds / 60);
            if (interval > 1) return interval + " minutes";

            return Math.floor(seconds) + " seconds";
        }

        async function deleteNotification(notificationId, notificationElement) {
            try {
                if (!notificationId) {
                    console.error("Notification ID is undefined");
                    return;
                }
                
                const response = await fetch(`/notifications/delete_notification/${notificationId}`, {
                    method: "DELETE",
                    headers: {
                        "X-CSRFToken": "{{ csrf_token }}",
                        "Content-Type": "application/json", 
                    },
                    credentials: "include",
                });
        
                if (!response.ok) {
                    throw new Error(`Failed to delete notification: ${response.statusText}`);
                }
        
                const data = await response.json(); 
                if (data.status === "success") {
                    notificationElement.remove();
        
                    const unreadNotifications = document.querySelectorAll(".bg-gray-50");
                    if (unreadNotifications.length === 0) {
                        unreadCount.textContent = "";
                        unreadCount.classList.add("hidden");
                    }
                } else {
                    throw new Error(data.message || "Failed to delete notification");
                }
            } catch (error) {
                console.error(error);
                alert("Failed to delete notification. Please try again.");
            }
        }

        fetchNotifications();

        notificationButton.addEventListener("click", function () {
            notificationDropdown.classList.toggle("hidden");

            if (!notificationDropdown.classList.contains("hidden")) {
                fetchNotifications();

                fetch("{% url 'mark_all_read' %}", {
                    method: "PATCH",
                    headers: {
                        "X-CSRFToken": "{{ csrf_token }}",
                        "Content-Type": "application/json",
                    },
                })
                    .then(response => response.json())
                    .then(data => {
                        if (data.status === "success") {
                            unreadCount.textContent = "";
                            unreadCount.classList.add("hidden"); 
                            document.querySelectorAll(".bg-gray-50").forEach(el => {
                                el.classList.remove("bg-gray-50", "font-semibold");
                                el.classList.add("bg-white", "font-normal");
                            });
                        }
                    });
            }
        });

        document.addEventListener("click", function (event) {
            const isClickInside = notificationButton.contains(event.target) || notificationDropdown.contains(event.target);
            if (!isClickInside) {
                notificationDropdown.classList.add("hidden");
            }
        });
    });

                            </script>
                            <!-- Add this script before the closing body tag -->
                            <script>
document.addEventListener('DOMContentLoaded', function() {
    const megaMenuButton = document.getElementById('mega-menu-button');
    const megaMenu = document.querySelector('.mega-menu');
    let isMenuOpen = false;

    // Toggle menu on button click
    megaMenuButton.addEventListener('click', function(e) {
        e.stopPropagation();
        isMenuOpen = !isMenuOpen;
        megaMenu.classList.toggle('hidden');
        
        // Update button aria attributes
        megaMenuButton.setAttribute('aria-expanded', isMenuOpen);
    });

    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
        if (isMenuOpen && !megaMenu.contains(e.target) && e.target !== megaMenuButton) {
            megaMenu.classList.add('hidden');
            isMenuOpen = false;
            megaMenuButton.setAttribute('aria-expanded', 'false');
        }
    });

    // Close menu on escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && isMenuOpen) {
            megaMenu.classList.add('hidden');
            isMenuOpen = false;
            megaMenuButton.setAttribute('aria-expanded', 'false');
        }
    });

    // Close menu on scroll
    let lastScrollPosition = window.pageYOffset;
    window.addEventListener('scroll', function() {
        const currentScrollPosition = window.pageYOffset;
        if (isMenuOpen && Math.abs(currentScrollPosition - lastScrollPosition) > 10) {
            megaMenu.classList.add('hidden');
            isMenuOpen = false;
            megaMenuButton.setAttribute('aria-expanded', 'false');
        }
        lastScrollPosition = currentScrollPosition;
    });
});
                            </script>
