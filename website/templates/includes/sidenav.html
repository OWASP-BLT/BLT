{% load static %}
{% load i18n %}
{% load custom_tags %}
<!-- Include Font Awesome CSS -->
<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    .scrollbar-none {
        scrollbar-width: none;
        -ms-overflow-style: none;
    }
</style>
<div class="sidebar fixed left-0 top-16 h-[calc(100vh-4rem)] bg-white dark:bg-gray-900 border-r border-gray-300 dark:border-gray-700 transform -translate-x-full transition-all duration-300 ease-in-out z-[10000] w-full max-w-[300px] min-w-[280px] max-[360px]:max-w-[90vw] max-[360px]:min-w-[240px] shadow-lg dark:shadow-gray-800">
    <div class="h-full flex flex-col justify-between overflow-hidden">
        <div class="overflow-y-auto flex-grow py-2 scrollbar-none">
            <!-- Search Bar -->
            <div class="px-2 py-3 mb-4 border-b border-gray-300 dark:border-gray-700">
                <div class="relative">
                    <i class="fa fa-search absolute left-3 top-3 text-gray-500 dark:text-gray-400 text-sm"></i>
                    <input type="text"
                           id="nav-search-input"
                           placeholder="{% trans "Search..." %}"
                           class="w-full pl-8 pr-3 py-2 text-sm rounded-md bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#E10101] focus:border-transparent">
                </div>
            </div>
            <!-- Main Navigation -->
            <nav class="px-2 space-y-1 mb-8 mt-2">
                <!-- Dashboard Section -->
                {% if '/organization/' in request.path %}
                    <div class="flex flex-col gap-1">
                        <div class="px-2 py-2">
                            <span class="text-sm text-[#E10101] dark:text-[#E10101] font-semibold uppercase tracking-wider">{% trans "Dashboard" %}</span>
                        </div>
                        {% if request.resolver_match.kwargs.id %}
                            <a href="{% url 'organization_analytics' request.resolver_match.kwargs.id %}"
                               class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'organization_analytics' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'organization_analytics' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <span class="truncate">{% trans "Analytics" %}</span>
                            </a>
                            <a href="{% url 'organization_team_overview' request.resolver_match.kwargs.id %}"
                               class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'organization_team_overview' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'organization_team_overview' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                    <i class="fas fa-users"></i>
                                </div>
                                <span class="truncate">{% trans "Team Overview" %}</span>
                            </a>
                            <a href="{% url 'organization_manage_bugs' request.resolver_match.kwargs.id %}"
                               class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_bugs' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'organization_manage_bugs' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                    <i class="fas fa-bug"></i>
                                </div>
                                <span class="truncate">{% trans "Bugs" %}</span>
                            </a>
                            <a href="{% url 'organization_manage_domains' request.resolver_match.kwargs.id %}"
                               class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_domains' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'organization_manage_domains' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                    <i class="fas fa-globe"></i>
                                </div>
                                <span class="truncate">{% trans "Domains" %}</span>
                            </a>
                            <a href="{% url 'organization_manage_bughunts' request.resolver_match.kwargs.id %}"
                               class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_bughunts' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'organization_manage_bughunts' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                    <i class="fas fa-trophy"></i>
                                </div>
                                <span class="truncate">{% trans "Bug Bounties" %}</span>
                            </a>
                            <a href="{% url 'organization_manage_roles' request.resolver_match.kwargs.id %}"
                               class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_roles' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'organization_manage_roles' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                    <i class="fas fa-user-tag"></i>
                                </div>
                                <span class="truncate">{% trans "Roles" %}</span>
                            </a>
                            <a href="{% url 'organization_manage_integrations' request.resolver_match.kwargs.id %}"
                               class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_integrations' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'organization_manage_integrations' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                    <i class="fas fa-puzzle-piece"></i>
                                </div>
                                <span class="truncate">{% trans "Integrations" %}</span>
                            </a>
                            <a href="{% url 'organization_manage_jobs' request.resolver_match.kwargs.id %}"
                               class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_jobs' or request.resolver_match.url_name == 'create_job' or request.resolver_match.url_name == 'edit_job' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'organization_manage_jobs' or request.resolver_match.url_name == 'create_job' or request.resolver_match.url_name == 'edit_job' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                    <i class="fas fa-briefcase"></i>
                                </div>
                                <span class="truncate">{% trans "Manage Jobs" %}</span>
                            </a>
                            <a href="{% url 'slack_channels_list' %}"
                               class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'slack_channels_list' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'slack_channels_list' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                    <i class="fab fa-slack"></i>
                                </div>
                                <span class="truncate">{% trans "Slack Channels" %}</span>
                            </a>
                        {% endif %}
                    </div>
                {% endif %}
                <!--Organization-->
                <div>
                    <button id="organizations-toggle"
                            class="w-full group flex items-center justify-between px-2 py-2 text-lg font-medium rounded-md bg-[#e5e5e5] dark:bg-red-900/30 hover:bg-[#f9e2dd] dark:hover:bg-red-900/40 transition-all duration-200">
                        <span class="text-sm text-[#E10101] dark:text-white font-semibold uppercase tracking-wider">{% trans "Organizations" %}</span>
                        <div class="flex-shrink-0 flex items-center justify-center w-5 h-5 text-[#c84d31] dark:text-white transition-transform duration-200"
                             id="organizations-chevron">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </button>
                    <!-- Submenu -->
                    <div id="organizations-menu"
                         class="ml-0 mt-1 space-y-1 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                        <a href="{% url 'organizations' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'organizations' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'organizations' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-building"></i>
                            </div>
                            <span class="truncate">{% trans "Organizations" %}</span>
                        </a>
                        <a href="{% url 'register_organization' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'register_organization' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'register_organization' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-plus"></i>
                            </div>
                            <span class="truncate">{% trans "Register Organization" %}</span>
                        </a>
                        <a href="{% url 'domains' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'domains' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'domains' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-globe"></i>
                            </div>
                            <span class="truncate">{% trans "Domains" %}</span>
                        </a>
                        <a href="{% url 'map' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'map' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'map' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <span class="truncate">{% trans "Map" %}</span>
                        </a>
                        <a href="{% url 'feed' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'feed' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'feed' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-rss"></i>
                            </div>
                            <span class="truncate">{% trans "Feed" %}</span>
                        </a>
                        <a href="{% url 'hackathons' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'hackathons' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'hackathons' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <span class="truncate">{% trans "Hackathons" %}</span>
                        </a>
                        <a href="{% url 'public_job_list' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'public_job_list' or request.resolver_match.url_name == 'job_detail' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'public_job_list' or request.resolver_match.url_name == 'job_detail' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-briefcase"></i>
                            </div>
                            <span class="truncate">{% trans "Jobs" %}</span>
                        </a>
                        <a href="{% url 'issues' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'issues' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'issues' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-bug"></i>
                            </div>
                            <span class="truncate">{% trans "Bugs" %}</span>
                        </a>
                        <a href="{% url 'github_issues' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'github_issues' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'github_issues' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fab fa-github"></i>
                            </div>
                            <span class="truncate">{% trans "Issues" %}</span>
                        </a>
                        <a href="{% url 'sizzle' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'sizzle' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'sizzle' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-fire"></i>
                            </div>
                            <span class="truncate">{% trans "Time Logs" %}</span>
                        </a>
                        <a href="{% url 'checkIN' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'checkIN' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'checkIN' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <span class="truncate">{% trans "Check-In" %}</span>
                        </a>
                        <a href="{% url 'scoreboard' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'scoreboard' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'scoreboard' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <span class="truncate">{% trans "Scoreboard" %}</span>
                        </a>
                        <a href="{% url 'hunts' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'hunts' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'hunts' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-search"></i>
                            </div>
                            <span class="truncate">{% trans "Bounties" %}</span>
                        </a>
                        <a href="{% url 'reported_ips_list' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'reported_ips_list' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'reported_ips_list' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <span class="truncate">{% trans "Reported IPs" %}</span>
                        </a>
                        <a href="{% url 'trademark_search' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'trademark_search' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'trademark_search' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-registered"></i>
                            </div>
                            <span class="truncate">{% trans "Trademarks" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Projects Section -->
                <div>
                    <button id="projects-toggle"
                            class="w-full group flex items-center justify-between px-2 py-2 text-lg font-medium rounded-md bg-[#e5e5e5] dark:bg-red-900/30 hover:bg-[#f9e2dd] dark:hover:bg-red-900/40 transition-all duration-200">
                        <span class="text-sm text-[#E10101] dark:text-white font-semibold uppercase tracking-wider">{% trans "Projects" %}</span>
                        <div class="flex-shrink-0 flex items-center justify-center w-5 h-5 text-[#c84d31] dark:text-white transition-transform duration-200"
                             id="projects-chevron">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </button>
                    <!-- Submenu -->
                    <div id="projects-menu"
                         class="ml-0 mt-1 space-y-1 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                        <a href="{% url 'project_list' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'project_list' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'project_list' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-box"></i>
                            </div>
                            <span class="truncate">{% trans "Projects" %}</span>
                        </a>
                        <a href="{% url 'repo_list' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'repo_list' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'repo_list' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fab fa-github"></i>
                            </div>
                            <span class="truncate">{% trans "Repositories" %}</span>
                        </a>
                        <a href="{% url 'BiddingData' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'BiddingData' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'BiddingData' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                            <span class="truncate">{% trans "Bid on Issues" %}</span>
                        </a>
                        <a href="{% url 'blt-tomato' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'blt-tomato' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'blt-tomato' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-seedling"></i>
                            </div>
                            <span class="truncate">{% trans "Funding" %}</span>
                        </a>
                        <a href="{% url 'bacon' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'bacon' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'bacon' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-coins"></i>
                            </div>
                            <span class="truncate">{% trans "BACON (coin)" %}</span>
                        </a>
                        <a href="{% url 'bacon_requests' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'bacon_requests' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'bacon_requests' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-hands-helping"></i>
                            </div>
                            <span class="truncate">{% trans "Bacon Requests" %}</span>
                        </a>
                        <a href="{% url 'gsoc_pr_report' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'gsoc_pr_report' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'gsoc_pr_report' %}text-[#e74c3c]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-code-pull-request"></i>
                            </div>
                            <span class="truncate">{% trans "GSOC PR Reports" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Users Section -->
                <div>
                    <button id="users-toggle"
                            class="w-full group flex items-center justify-between px-2 py-2 text-lg font-medium rounded-md bg-[#e5e5e5] dark:bg-red-900/30 hover:bg-[#f9e2dd] dark:hover:bg-red-900/40 transition-all duration-200">
                        <span class="text-sm text-[#E10101] dark:text-white font-semibold uppercase tracking-wider">{% trans "Users" %}</span>
                        <div class="flex-shrink-0 flex items-center justify-center w-5 h-5 text-[#c84d31] dark:text-white transition-transform duration-200"
                             id="users-chevron">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </button>
                    <!-- Submenu -->
                    <div id="users-menu"
                         class="ml-0 mt-1 space-y-1 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                        <a href="{% url 'users' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'users' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'users' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-user-friends"></i>
                            </div>
                            <span class="truncate">{% trans "Users" %}</span>
                        </a>
                        <a href="{% url 'messaging' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'messaging' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'messaging' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <span class="truncate">{% trans "Messaging" %}</span>
                        </a>
                        <a href="{% url 'user_challenges' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'user_challenges' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'user_challenges' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-flag-checkered"></i>
                            </div>
                            <span class="truncate">{% trans "Challenges" %}</span>
                        </a>
                        <a href="{% url 'staking_home' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'staking_home' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'staking_home' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-coins"></i>
                            </div>
                            <span class="truncate">{% trans "Staking" %}</span>
                        </a>
                        <a href="{% url 'leaderboard_global' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'leaderboard_global' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'leaderboard_global' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-medal"></i>
                            </div>
                            <span class="truncate">{% trans "Leaderboard" %}</span>
                        </a>
                        <a href="{% url 'contributors' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'contributors' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'contributors' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-laptop-code"></i>
                            </div>
                            <span class="truncate">{% trans "Contributors" %}</span>
                        </a>
                        <a href="{% url 'deletions' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'deletions' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'deletions' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-trash-alt"></i>
                            </div>
                            <span class="truncate">{% trans "Takedowns" %}</span>
                        </a>
                        <a href="{% url 'badges' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'badges' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'badges' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-certificate"></i>
                            </div>
                            <span class="truncate">{% trans "Badges" %}</span>
                        </a>
                        <a href="{% url 'adventure_list' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'adventure_list' or request.resolver_match.url_name == 'adventure_detail' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'adventure_list' or request.resolver_match.url_name == 'adventure_detail' %}text-[#E10101] dark:text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-rocket"></i>
                            </div>
                            <span class="truncate">{% trans "Adventures" %}</span>
                        </a>
                        <a href="{% url 'reminder_settings' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'reminder_settings' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'reminder_settings' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-bell"></i>
                            </div>
                            <span class="truncate">{% trans "Reminder Settings" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Teams Section -->
                <div>
                    <button id="teams-toggle"
                            class="w-full group flex items-center justify-between px-2 py-2 text-lg font-medium rounded-md bg-[#e5e5e5] dark:bg-red-900/30 hover:bg-[#f9e2dd] dark:hover:bg-red-900/40 transition-all duration-200">
                        <span class="text-sm text-[#E10101] dark:text-white font-semibold uppercase tracking-wider">{% trans "Teams" %}</span>
                        <div class="flex-shrink-0 flex items-center justify-center w-5 h-5 text-[#c84d31] dark:text-white transition-transform duration-200"
                             id="teams-chevron">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </button>
                    <!-- Submenu -->
                    <div id="teams-menu"
                         class="ml-0 mt-1 space-y-1 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                        <a href="{% url 'team_overview' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'team_overview' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'team_overview' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-users"></i>
                            </div>
                            <span class="truncate">{% trans "Teams" %}</span>
                        </a>
                        <a href="{% url 'team_challenges' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'team_challenges' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'team_challenges' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-flag-checkered"></i>
                            </div>
                            <span class="truncate">{% trans "Challenges" %}</span>
                        </a>
                        <a href="{% url 'team_leaderboard' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'team_leaderboard' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'team_leaderboard' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-medal"></i>
                            </div>
                            <span class="truncate">{% trans "Leaderboard" %}</span>
                        </a>
                    </div>
                </div>
                <!-- About Us Section -->
                <div>
                    <button id="about-toggle"
                            class="w-full group flex items-center justify-between px-2 py-2 text-lg font-medium rounded-md bg-[#e5e5e5] dark:bg-red-900/30 hover:bg-[#f9e2dd] dark:hover:bg-red-900/40 transition-all duration-200">
                        <span class="text-sm text-[#E10101] dark:text-white font-semibold uppercase tracking-wider">{% trans "About Us" %}</span>
                        <div class="flex-shrink-0 flex items-center justify-center w-5 h-5 text-[#c84d31] dark:text-white transition-transform duration-200"
                             id="about-chevron">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </button>
                    <!-- Submenu -->
                    <div id="about-menu"
                         class="ml-0 mt-1 space-y-1 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                        <a href="{% url 'about' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'about' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'about' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <span class="truncate">{% trans "About Us" %}</span>
                        </a>
                        <a href="{% url 'features' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'features' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'features' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fa-solid fa-gear"></i>
                            </div>
                            <span class="truncate">{% trans "Features" %}</span>
                        </a>
                        <a href="{% url 'sponsor' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'sponsor' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'sponsor' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-handshake"></i>
                            </div>
                            <span class="truncate">{% trans "Sponsorships" %}</span>
                        </a>
                        <a href="https://owasp.org/www-project-bug-logging-tool/"
                           target="_blank"
                           rel="noopener"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <span class="truncate">{% trans "OWASP Project" %}</span>
                        </a>
                        <a href="{% url 'donate' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'donate' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'donate' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-donate"></i>
                            </div>
                            <span class="truncate">{% trans "Donations" %}</span>
                        </a>
                        <a href="{% url 'view_forum' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'view_forum' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'view_forum' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-comments"></i>
                            </div>
                            <span class="truncate">{% trans "Forum" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Contribute Section -->
                <div>
                    <button id="contribute-toggle"
                            class="w-full group flex items-center justify-between px-2 py-2 text-lg font-medium rounded-md bg-[#e5e5e5] dark:bg-red-900/30 hover:bg-[#f9e2dd] dark:hover:bg-red-900/40 transition-all duration-200">
                        <span class="text-sm text-[#E10101] dark:text-white font-semibold uppercase tracking-wider">{% trans "Contribute" %}</span>
                        <div class="flex-shrink-0 flex items-center justify-center w-5 h-5 text-[#c84d31] dark:text-white transition-transform duration-200"
                             id="contribute-chevron">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </button>
                    <!-- Submenu -->
                    <div id="contribute-menu"
                         class="ml-0 mt-1 space-y-1 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                        <a href="{% url 'contribution_guidelines' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'contribution_guidelines' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'contribution_guidelines' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-hands-helping"></i>
                            </div>
                            <span class="truncate">{% trans "Contribute" %}</span>
                        </a>
                        <a href="https://github.com/OWASP-BLT/BLT/blob/main/CONTRIBUTING.md"
                           target="_blank"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fas fa-book"></i>
                            </div>
                            <span class="truncate">{% trans "Documentation" %}</span>
                        </a>
                        <a href="https://blt.owasp.org/swagger/"
                           target="_blank"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <span class="truncate">{% trans "Developer API" %}</span>
                        </a>
                        <a href="{% url 'education' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'education' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'education' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-tv"></i>
                            </div>
                            <span class="truncate">{% trans "Education" %}</span>
                        </a>
                        <a href="{% url 'simulation_dashboard' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'simulation_dashboard' or 'simulation/' in request.path %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'simulation_dashboard' or 'simulation/' in request.path %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-flask"></i>
                            </div>
                            <span class="truncate">{% trans "Security Labs" %}</span>
                        </a>
                        <a href="{% url 'ossh_home' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'ossh_home' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'ossh_home' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-hat-wizard"></i>
                            </div>
                            <span class="truncate">{% trans "Open Source Sorting Hat" %}</span>
                        </a>
                        <a href="{% url 'gsoc' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'gsoc' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'gsoc' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-sun"></i>
                            </div>
                            <span class="truncate">{% trans "GSOC" %}</span>
                        </a>
                        <a href="{% url 'roadmap' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'roadmap' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'roadmap' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-road"></i>
                            </div>
                            <span class="truncate">{% trans "Roadmap" %}</span>
                        </a>
                        <a href="{% url 'submit-roadmap-pr' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'submit-roadmap-pr' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'submit-roadmap-pr' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-code-branch"></i>
                            </div>
                            <span class="truncate">{% trans "Submit PR for review" %}</span>
                        </a>
                        <a href="{% url 'github_issue_prompt' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'github_issue_prompt' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'github_issue_prompt' %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-plus-circle"></i>
                            </div>
                            <span class="truncate">{% trans "Create an Issue" %}</span>
                        </a>
                    </div>
                </div>
                <!-- GitHub Section -->
                <div>
                    <button id="github-toggle"
                            class="w-full group flex items-center justify-between px-2 py-2 text-lg font-medium rounded-md bg-[#e5e5e5] dark:bg-red-900/30 hover:bg-[#f9e2dd] dark:hover:bg-red-900/40 transition-all duration-200">
                        <span class="text-sm text-[#E10101] dark:text-white font-semibold uppercase tracking-wider">{% trans "GitHub" %}</span>
                        <div class="flex-shrink-0 flex items-center justify-center w-5 h-5 text-[#c84d31] dark:text-white transition-transform duration-200"
                             id="github-chevron">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </button>
                    <!-- Submenu -->
                    <div id="github-menu"
                         class="ml-0 mt-1 space-y-1 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                        <a href="https://github.com/OWASP/BLT"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fab fa-github"></i>
                            </div>
                            <span class="truncate">{% trans "GitHub" %}</span>
                        </a>
                        <a href="https://github.com/OWASP-BLT/BLT/"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fas fa-code-branch"></i>
                            </div>
                            <span class="truncate">{% trans "BLT Core" %}</span>
                        </a>
                        <a href="https://github.com/OWASP-BLT/BLT-Flutter"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <span class="truncate">{% trans "BLT Flutter" %}</span>
                        </a>
                        <a href="https://github.com/OWASP-BLT/BLT-Extension"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fas fa-puzzle-piece"></i>
                            </div>
                            <span class="truncate">{% trans "BLT Extension" %}</span>
                        </a>
                        <a href="https://github.com/OWASP-BLT/BLT-Action"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fas fa-play-circle"></i>
                            </div>
                            <span class="truncate">{% trans "BLT Action" %}</span>
                        </a>
                        <a href="https://github.com/OWASP-BLT/BLT-Bacon"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fas fa-coins"></i>
                            </div>
                            <span class="truncate">{% trans "BLT BACON" %}</span>
                        </a>
                        <a href="https://github.com/OWASP-BLT/BLT-Lettuce"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center text-gray-500 dark:text-gray-400 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fas fa-leaf"></i>
                            </div>
                            <span class="truncate">{% trans "BLT Lettuce" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Communication Section -->
                <div>
                    <button id="communication-toggle"
                            class="w-full group flex items-center justify-between px-2 py-2 text-lg font-medium rounded-md bg-[#e5e5e5] dark:bg-red-900/30 hover:bg-[#f9e2dd] dark:hover:bg-red-900/40 transition-all duration-200">
                        <span class="text-sm text-[#E10101] dark:text-white font-semibold uppercase tracking-wider">{% trans "Communication" %}</span>
                        <div class="flex-shrink-0 flex items-center justify-center w-5 h-5 text-[#c84d31] dark:text-white transition-transform duration-200"
                             id="communication-chevron">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </button>
                    <!-- Submenu -->
                    <div id="communication-menu"
                         class="ml-0 mt-1 space-y-1 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                        <a href="{% url 'similarity_scan' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'similarity_scan' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'similarity_scan' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-clone"></i>
                            </div>
                            <span class="truncate">{% trans "SimilarityScan" %}</span>
                        </a>
                        <a href="{% url 'rooms_list' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'rooms_list' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'rooms_list' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-door-open"></i>
                            </div>
                            <span class="truncate">{% trans "Rooms" %}</span>
                        </a>
                        <a href="{% url 'video_call' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'video_call' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'video_call' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-video"></i>
                            </div>
                            <span class="truncate">{% trans "Video Call" %}</span>
                        </a>
                        <a href="{% url 'banned_apps' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'banned_apps' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'banned_apps' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-ban"></i>
                            </div>
                            <span class="truncate">{% trans "Banned Apps" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Apps Section -->
                <div>
                    <button id="apps-toggle"
                            class="w-full group flex items-center justify-between px-2 py-2 text-lg font-medium rounded-md bg-[#e5e5e5] dark:bg-red-900/30 hover:bg-[#f9e2dd] dark:hover:bg-red-900/40 transition-all duration-200">
                        <span class="text-sm text-[#E10101] dark:text-white font-semibold uppercase tracking-wider">{% trans "Apps" %}</span>
                        <div class="flex-shrink-0 flex items-center justify-center w-5 h-5 text-[#c84d31] dark:text-white transition-transform duration-200"
                             id="apps-chevron">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </button>
                    <!-- Submenu -->
                    <div id="apps-menu"
                         class="ml-0 mt-1 space-y-1 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                        <a href="https://apps.apple.com/us/app/owasp-blt/id6448071954"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fab fa-apple"></i>
                            </div>
                            <span class="truncate">{% trans "iPhone App" %}</span>
                        </a>
                        <a href="{% url 'extension' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'extension' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'extension' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-puzzle-piece"></i>
                            </div>
                            <span class="truncate">{% trans "Chrome Extension" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Social Links Section -->
                <div>
                    <button id="social-toggle"
                            class="w-full group flex items-center justify-between px-2 py-2 text-lg font-medium rounded-md bg-[#e5e5e5] dark:bg-red-900/30 hover:bg-[#f9e2dd] dark:hover:bg-red-900/40 transition-all duration-200">
                        <span class="text-sm text-[#E10101] dark:text-white font-semibold uppercase tracking-wider">{% trans "Social Links" %}</span>
                        <div class="flex-shrink-0 flex items-center justify-center w-5 h-5 text-[#c84d31] dark:text-white transition-transform duration-200"
                             id="social-chevron">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </button>
                    <!-- Submenu -->
                    <div id="social-menu"
                         class="ml-0 mt-1 space-y-1 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                        <a href="https://x.com/owasp_blt"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fab fa-x-twitter"></i>
                            </div>
                            <span class="truncate">{% trans "Twitter" %}</span>
                        </a>
                        <a href="https://www.facebook.com/groups/owaspfoundation/"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fab fa-facebook"></i>
                            </div>
                            <span class="truncate">{% trans "Facebook" %}</span>
                        </a>
                        <a href="{% url 'post_list' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'post_list' %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if request.resolver_match.url_name == 'post_list' %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-blog"></i>
                            </div>
                            <span class="truncate">{% trans "Blog" %}</span>
                        </a>
                        <a href="https://owasp.org/slack/invite"
                           target="_blank"
                           rel="noopener noreferrer"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101] transition-all duration-200">
                                <i class="fab fa-slack"></i>
                            </div>
                            <span class="truncate">{% trans "Slack" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Site Info Section -->
                <div>
                    <button id="siteinfo-toggle"
                            class="w-full group flex items-center justify-between px-2 py-2 text-lg font-medium rounded-md bg-[#e5e5e5] dark:bg-red-900/30 hover:bg-[#f9e2dd] dark:hover:bg-red-900/40 transition-all duration-200">
                        <span class="text-sm text-[#E10101] dark:text-white font-semibold uppercase tracking-wider">{% trans "Site Info" %}</span>
                        <div class="flex-shrink-0 flex items-center justify-center w-5 h-5 text-[#c84d31] dark:text-white transition-transform duration-200"
                             id="siteinfo-chevron">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </button>
                    <!-- Submenu -->
                    <div id="siteinfo-menu"
                         class="ml-0 mt-1 space-y-1 max-h-0 overflow-hidden transition-all duration-300 ease-in-out">
                        <a href="{% url 'sitemap' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if '/sitemap' in request.path %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if '/sitemap' in request.path %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-sitemap"></i>
                            </div>
                            <span class="truncate">{% trans "Sitemap" %}</span>
                        </a>
                        <a href="{% url 'status_page' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if '/status' in request.path %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if '/status' in request.path %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <span class="truncate">{% trans "Status" %}</span>
                        </a>
                        <a href="{% url 'stats' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if '/stats' in request.path and '/stats-dashboard' not in request.path and '/website_stats' not in request.path %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if '/stats' in request.path and '/stats-dashboard' not in request.path and '/website_stats' not in request.path %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <span class="truncate">{% trans "Stats" %}</span>
                        </a>
                        <a href="{% url 'stats_dashboard' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if '/stats-dashboard' in request.path %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if '/stats-dashboard' in request.path %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <span class="truncate">{% trans "Stats Dashboard" %}</span>
                        </a>
                        <a href="{% url 'template_list' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if '/template_list' in request.path %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if '/template_list' in request.path %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-list"></i>
                            </div>
                            <span class="truncate">{% trans "Template List" %}</span>
                        </a>
                        <a href="{% url 'website_stats' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if '/website_stats' in request.path %}bg-[#feeae9] text-[#E10101] dark:bg-red-900/30 dark:text-[#E10101]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-8 h-8 rounded-md {% if '/website_stats' in request.path %}bg-[#fde0dd] text-[#E10101] dark:bg-red-900/50 dark:text-[#E10101]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#E10101] dark:group-hover:text-[#E10101]{% endif %} transition-all duration-200">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <span class="truncate">{% trans "Website Stats" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Language selector -->
                <!-- <div class="px-2 py-2">
                    <span class="text-sm text-[#E10101] font-medium uppercase tracking-wider">{% trans "Language" %}</span>
                </div> -->
                <form action="{% url 'set_language' %}" method="post" class="px-2">
                    {% csrf_token %}
                    <div class="relative mt-1">
                        <div class="flex items-center">
                            <i class="fas fa-globe-americas mr-3 text-[#E10101]"></i>
                            <select name="language"
                                    onchange="this.form.submit()"
                                    class="appearance-none w-full pl-2 pr-8 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#E10101] focus:border-[#E10101]">
                                {% get_current_language as LANGUAGE_CODE %}
                                {% get_available_languages as LANGUAGES %}
                                {% for lang_code, lang_name in LANGUAGES %}
                                    <option value="{{ lang_code }}"
                                            {% if lang_code == LANGUAGE_CODE %}selected{% endif %}>
                                        {{ lang_name }}
                                    </option>
                                {% endfor %}
                            </select>
                            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4">
                                <i class="fas fa-chevron-down text-gray-400 dark:text-gray-600"></i>
                            </div>
                        </div>
                    </div>
                </form>
                <div class="flex items-center gap-2 px-2 py-2">
                    <!-- Design Icon -->
                    <a href="https://www.figma.com/file/2lfEZKvqcb4WxRPYEwJqeE/OWASP-BLT?type=design&node-id=0%3A1&mode=design&t=Hy0GZXlVxBPHQMxr-1"
                       class="group relative flex items-center justify-center w-10 h-10 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200"
                       target="_blank"
                       rel="noopener noreferrer"
                       title="Design">
                        <i class="fab fa-figma text-lg"></i>
                        <span class="absolute bottom-12 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none">{% trans "Design" %}</span>
                    </a>
                    <!-- Style Guide Icon -->
                    <a href="{% url 'style_guide' %}"
                       class="group relative flex items-center justify-center w-10 h-10 rounded-md {% if '/style-guide/' in request.path %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"
                       title="Style Guide">
                        <i class="fas fa-palette text-lg"></i>
                        <span class="absolute bottom-12 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none">{% trans "Style Guide" %}</span>
                    </a>
                    <!-- Edit Icon -->
                    {% get_current_template as current_template %}
                    <a href="https://github.com/OWASP-BLT/BLT/blob/main/website/templates/{{ current_template }}"
                       class="group relative flex items-center justify-center w-10 h-10 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#E10101] dark:hover:text-[#E10101] transition-all duration-200"
                       target="_blank"
                       rel="noopener"
                       title="Edit this page">
                        <i class="fas fa-edit text-lg"></i>
                        <span class="absolute bottom-12 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none">{% trans "Edit this page" %}</span>
                    </a>
                    <!-- Terms Icon -->
                    <a href="{% url 'terms' %}"
                       class="group relative flex items-center justify-center w-10 h-10 rounded-md {% if '/terms/' in request.path %}text-[#E10101]{% else %}text-gray-500 dark:text-gray-400 hover:text-[#E10101] dark:hover:text-[#E10101]{% endif %} hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"
                       title="Terms">
                        <i class="fas fa-file-contract text-lg"></i>
                        <span class="absolute bottom-12 left-1/2 transform -translate-x-1/2 bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none">{% trans "Terms" %}</span>
                    </a>
                </div>
            </nav>
        </div>
        <div class="sticky bottom-0 bg-white dark:bg-gray-900 border-t border-gray-300 dark:border-gray-700 p-4 w-full z-[10001] md:hidden">
            <div class="flex items-center justify-between">
                <span class="text-lg font-medium text-gray-700 dark:text-gray-200">Theme</span>
                {% include 'dark_mode_toggle.html' %}
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const organizationsToggle = document.getElementById('organizations-toggle');
        const organizationsMenu = document.getElementById('organizations-menu');
        const organizationsChevron = document.getElementById('organizations-chevron');

        function expandOrganizationsMenu() {
            organizationsMenu.style.maxHeight = organizationsMenu.scrollHeight + 'px';
            organizationsChevron.style.transform = 'rotate(180deg)';
            organizationsToggle.classList.add('bg-gray-50', 'dark:bg-gray-800');
        }

        function collapseOrganizationsMenu() {
            organizationsMenu.style.maxHeight = '0px';
            organizationsChevron.style.transform = 'rotate(0deg)';
            organizationsToggle.classList.remove('bg-gray-50', 'dark:bg-gray-800');
        }

        // Add null check guard
        if (!organizationsToggle || !organizationsMenu || !organizationsChevron) {
            console.warn('SideNav: Missing organizations menu elements');
        } else {
            // Check if this is the organizations page or any organization-related page
            const currentPath = window.location.pathname;
            const isOrganizationPage = currentPath.includes('/organization/') ||
                currentPath.includes('organizations/') ||
                currentPath.includes('register_organization/') ||
                currentPath.includes('/domains/') ||
                currentPath.includes('/map/') ||
                currentPath.includes('/feed/') ||
                currentPath.includes('/hackathons/') ||
                currentPath.includes('/jobs/') ||
                currentPath.includes('/issues/') ||
                currentPath.includes('/scoreboard/') ||
                currentPath.includes('/hunts/') ||
                currentPath.includes('/sizzle/') ||
                currentPath.includes('/checkin/') ||
                currentPath.includes('/reported-ips/') ||
                currentPath.includes('/trademark/') ||
                currentPath.includes('/github-issues/') ||
                currentPath.includes('/blt-tomato/') ||
                currentPath.includes('/public-jobs/');

            // Expand menu on organization pages
            if (isOrganizationPage) {
                expandOrganizationsMenu();
            }

            // Toggle menu on button click
            organizationsToggle.addEventListener('click', function (e) {
                e.preventDefault();

                if (organizationsMenu.style.maxHeight === '0px' || organizationsMenu.style.maxHeight === '') {
                    expandOrganizationsMenu();
                } else {
                    collapseOrganizationsMenu();
                }
            });
        }

        // Projects dropdown functionality
        const projectsToggle = document.getElementById('projects-toggle');
        const projectsMenu = document.getElementById('projects-menu');
        const projectsChevron = document.getElementById('projects-chevron');

        function expandProjectsMenu() {
            projectsMenu.style.maxHeight = projectsMenu.scrollHeight + 'px';
            projectsChevron.style.transform = 'rotate(180deg)';
            projectsToggle.classList.add('bg-gray-50', 'dark:bg-gray-800');
        }

        function collapseProjectsMenu() {
            projectsMenu.style.maxHeight = '0px';
            projectsChevron.style.transform = 'rotate(0deg)';
            projectsToggle.classList.remove('bg-gray-50', 'dark:bg-gray-800');
        }

        if (!projectsToggle || !projectsMenu || !projectsChevron) {
            console.warn('SideNav: Missing projects menu elements');
        } else {
            // Check if this is the projects page or any project-related page
            const currentPath = window.location.pathname;
            const isProjectPage = currentPath.includes('/repo/') ||
                currentPath.includes('project') ||
                currentPath.includes('/projects/') ||
                currentPath.includes('bidding') ||
                currentPath.includes('BiddingData') ||
                currentPath.includes('blt-tomato') ||
                currentPath.includes('bacon');

            // Expand menu on project pages
            if (isProjectPage) {
                expandProjectsMenu();
            }

            // Toggle menu on button click
            projectsToggle.addEventListener('click', function (e) {
                e.preventDefault();

                if (projectsMenu.style.maxHeight === '0px' || projectsMenu.style.maxHeight === '') {
                    expandProjectsMenu();
                } else {
                    collapseProjectsMenu();
                }
            });
        }

        // Users dropdown functionality
        const usersToggle = document.getElementById('users-toggle');
        const usersMenu = document.getElementById('users-menu');
        const usersChevron = document.getElementById('users-chevron');

        function expandUsersMenu() {
            usersMenu.style.maxHeight = usersMenu.scrollHeight + 'px';
            usersChevron.style.transform = 'rotate(180deg)';
            usersToggle.classList.add('bg-gray-50', 'dark:bg-gray-800');
        }

        function collapseUsersMenu() {
            usersMenu.style.maxHeight = '0px';
            usersChevron.style.transform = 'rotate(0deg)';
            usersToggle.classList.remove('bg-gray-50', 'dark:bg-gray-800');
        }

        if (!usersToggle || !usersMenu || !usersChevron) {
            console.warn('SideNav: Missing users menu elements');
        } else {
            // Check if this is the users page or any user-related page
            const currentPath = window.location.pathname;
            const isUserPage = currentPath.includes('/users/') ||
                currentPath.includes('messaging') ||
                currentPath.includes('challenges') ||
                currentPath.includes('staking') ||
                currentPath.includes('leaderboard') ||
                currentPath.includes('contributors') ||
                currentPath.includes('deletions') ||
                currentPath.includes('badges') ||
                currentPath.includes('adventure') ||
                currentPath.includes('reminder');

            // Expand menu on user pages
            if (isUserPage) {
                expandUsersMenu();
            }

            // Toggle menu on button click
            usersToggle.addEventListener('click', function (e) {
                e.preventDefault();

                if (usersMenu.style.maxHeight === '0px' || usersMenu.style.maxHeight === '') {
                    expandUsersMenu();
                } else {
                    collapseUsersMenu();
                }
            });
        }

        // Teams dropdown functionality
        const teamsToggle = document.getElementById('teams-toggle');
        const teamsMenu = document.getElementById('teams-menu');
        const teamsChevron = document.getElementById('teams-chevron');

        //  ADD THESE FUNCTION DEFINITIONS
        function expandTeamsMenu() {
            teamsMenu.style.maxHeight = teamsMenu.scrollHeight + 'px';
            teamsChevron.style.transform = 'rotate(180deg)';
            teamsToggle.classList.add('bg-gray-50', 'dark:bg-gray-800');
        }

        function collapseTeamsMenu() {
            teamsMenu.style.maxHeight = '0px';
            teamsChevron.style.transform = 'rotate(0deg)';
            teamsToggle.classList.remove('bg-gray-50', 'dark:bg-gray-800');
        }

        // Now the null check and usage works correctly
        if (!teamsToggle || !teamsMenu || !teamsChevron) {
        console.warn('SideNav: Missing teams menu elements');
        } else {
            const currentPath = window.location.pathname;
            const isTeamPage = currentPath.includes('/team') || currentPath.includes('team_') || currentPath.includes('team');

            if (isTeamPage) {
                expandTeamsMenu();  //  Now safe to call!
            }

            teamsToggle.addEventListener('click', function (e) {
                e.preventDefault();
                if (teamsMenu.style.maxHeight === '0px' || teamsMenu.style.maxHeight === '') {
                    expandTeamsMenu();  //  Now safe to call!
                } else {
                    collapseTeamsMenu();  //  Now safe to call!
                }
            });
        }

        // About dropdown functionality
        const aboutToggle = document.getElementById('about-toggle');
        const aboutMenu = document.getElementById('about-menu');
        const aboutChevron = document.getElementById('about-chevron');

        function expandAboutMenu() {
            aboutMenu.style.maxHeight = aboutMenu.scrollHeight + 'px';
            aboutChevron.style.transform = 'rotate(180deg)';
            aboutToggle.classList.add('bg-gray-50', 'dark:bg-gray-800');
        }

        function collapseAboutMenu() {
            aboutMenu.style.maxHeight = '0px';
            aboutChevron.style.transform = 'rotate(0deg)';
            aboutToggle.classList.remove('bg-gray-50', 'dark:bg-gray-800');
        }

        if (!aboutToggle || !aboutMenu || !aboutChevron) {
            console.warn('SideNav: Missing about menu elements');
        } else {
            const currentPath = window.location.pathname;
            const isAboutPage = currentPath.includes('/about') || currentPath.includes('features') || currentPath.includes('sponsor') || currentPath.includes('donate') || currentPath.includes('view_forum');

            if (isAboutPage) {
                expandAboutMenu();
            }

            aboutToggle.addEventListener('click', function (e) {
                e.preventDefault();
                if (aboutMenu.style.maxHeight === '0px' || aboutMenu.style.maxHeight === '') {
                    expandAboutMenu();
                } else {
                    collapseAboutMenu();
                }
            });
        }

        // Contribute dropdown functionality
        const contributeToggle = document.getElementById('contribute-toggle');
        const contributeMenu = document.getElementById('contribute-menu');
        const contributeChevron = document.getElementById('contribute-chevron');

        function expandContributeMenu() {
            contributeMenu.style.maxHeight = contributeMenu.scrollHeight + 'px';
            contributeChevron.style.transform = 'rotate(180deg)';
            contributeToggle.classList.add('bg-gray-50', 'dark:bg-gray-800');
        }

        function collapseContributeMenu() {
            contributeMenu.style.maxHeight = '0px';
            contributeChevron.style.transform = 'rotate(0deg)';
            contributeToggle.classList.remove('bg-gray-50', 'dark:bg-gray-800');
        }

        if (!contributeToggle || !contributeMenu || !contributeChevron) {
            console.warn('SideNav: Missing contribute menu elements');
        } else {
            const currentPath = window.location.pathname;
            const isContributePage = currentPath.includes('contribution') || currentPath.includes('swagger') || currentPath.includes('education') || currentPath.includes('simulation') || currentPath.includes('ossh') || currentPath.includes('gsoc') || currentPath.includes('roadmap') || currentPath.includes('github_issue_prompt');

            if (isContributePage) {
                expandContributeMenu();
            }

            contributeToggle.addEventListener('click', function (e) {
                e.preventDefault();
                if (contributeMenu.style.maxHeight === '0px' || contributeMenu.style.maxHeight === '') {
                    expandContributeMenu();
                } else {
                    collapseContributeMenu();
                }
            });
        }

        // GitHub dropdown functionality
        const githubToggle = document.getElementById('github-toggle');
        const githubMenu = document.getElementById('github-menu');
        const githubChevron = document.getElementById('github-chevron');

        function expandGithubMenu() {
            githubMenu.style.maxHeight = githubMenu.scrollHeight + 'px';
            githubChevron.style.transform = 'rotate(180deg)';
            githubToggle.classList.add('bg-gray-50', 'dark:bg-gray-800');
        }

        function collapseGithubMenu() {
            githubMenu.style.maxHeight = '0px';
            githubChevron.style.transform = 'rotate(0deg)';
            githubToggle.classList.remove('bg-gray-50', 'dark:bg-gray-800');
        }

        if (!githubToggle || !githubMenu || !githubChevron) {
            console.warn('SideNav: Missing github menu elements');
        } else {
            const currentPath = window.location.pathname;
            const isGithubPage = currentPath.toLowerCase().includes('github') || currentPath.includes('/repo/') || currentPath.includes('blt-');

            if (isGithubPage) {
                expandGithubMenu();
            }

            githubToggle.addEventListener('click', function (e) {
                e.preventDefault();
                if (githubMenu.style.maxHeight === '0px' || githubMenu.style.maxHeight === '') {
                    expandGithubMenu();
                } else {
                    collapseGithubMenu();
                }
            });
        }

        // Communication dropdown functionality
        const communicationToggle = document.getElementById('communication-toggle');
        const communicationMenu = document.getElementById('communication-menu');
        const communicationChevron = document.getElementById('communication-chevron');

        function expandCommunicationMenu() {
            communicationMenu.style.maxHeight = communicationMenu.scrollHeight + 'px';
            communicationChevron.style.transform = 'rotate(180deg)';
            communicationToggle.classList.add('bg-gray-50', 'dark:bg-gray-800');
        }

        function collapseCommunicationMenu() {
            communicationMenu.style.maxHeight = '0px';
            communicationChevron.style.transform = 'rotate(0deg)';
            communicationToggle.classList.remove('bg-gray-50', 'dark:bg-gray-800');
        }

        if (!communicationToggle || !communicationMenu || !communicationChevron) {
            console.warn('SideNav: Missing communication menu elements');
        } else {
            const currentPath = window.location.pathname;
            const isCommunicationPage = currentPath.includes('similarity') || currentPath.includes('rooms') || currentPath.includes('video') || currentPath.includes('banned_apps');

            if (isCommunicationPage) {
                expandCommunicationMenu();
            }

            communicationToggle.addEventListener('click', function (e) {
                e.preventDefault();
                if (communicationMenu.style.maxHeight === '0px' || communicationMenu.style.maxHeight === '') {
                    expandCommunicationMenu();
                } else {
                    collapseCommunicationMenu();
                }
            });
        }

        // Apps dropdown functionality
        const appsToggle = document.getElementById('apps-toggle');
        const appsMenu = document.getElementById('apps-menu');
        const appsChevron = document.getElementById('apps-chevron');

        function expandAppsMenu() {
            appsMenu.style.maxHeight = appsMenu.scrollHeight + 'px';
            appsChevron.style.transform = 'rotate(180deg)';
            appsToggle.classList.add('bg-gray-50', 'dark:bg-gray-800');
        }

        function collapseAppsMenu() {
            appsMenu.style.maxHeight = '0px';
            appsChevron.style.transform = 'rotate(0deg)';
            appsToggle.classList.remove('bg-gray-50', 'dark:bg-gray-800');
        }

        if (!appsToggle || !appsMenu || !appsChevron) {
            console.warn('SideNav: Missing apps menu elements');
        } else {
            const currentPath = window.location.pathname;
            const isAppsPage = currentPath.includes('app') || currentPath.includes('extension');

            if (isAppsPage) {
                expandAppsMenu();
            }

            appsToggle.addEventListener('click', function (e) {
                e.preventDefault();
                if (appsMenu.style.maxHeight === '0px' || appsMenu.style.maxHeight === '') {
                    expandAppsMenu();
                } else {
                    collapseAppsMenu();
                }
            });
        }

        // Social Links dropdown functionality
        const socialToggle = document.getElementById('social-toggle');
        const socialMenu = document.getElementById('social-menu');
        const socialChevron = document.getElementById('social-chevron');

        function expandSocialMenu() {
            socialMenu.style.maxHeight = socialMenu.scrollHeight + 'px';
            socialChevron.style.transform = 'rotate(180deg)';
            socialToggle.classList.add('bg-gray-50', 'dark:bg-gray-800');
        }

        function collapseSocialMenu() {
            socialMenu.style.maxHeight = '0px';
            socialChevron.style.transform = 'rotate(0deg)';
            socialToggle.classList.remove('bg-gray-50', 'dark:bg-gray-800');
        }

        if (!socialToggle || !socialMenu || !socialChevron) {
            console.warn('SideNav: Missing social menu elements');
        } else {
            const currentPath = window.location.pathname;
            const isSocialPage = currentPath.includes('twitter') || currentPath.includes('facebook') || currentPath.includes('post_list') || currentPath.includes('slack');

            if (isSocialPage) {
                expandSocialMenu();
            }

            socialToggle.addEventListener('click', function (e) {
                e.preventDefault();
                if (socialMenu.style.maxHeight === '0px' || socialMenu.style.maxHeight === '') {
                    expandSocialMenu();
                } else {
                    collapseSocialMenu();
                }
            });
        }

        // Site Info dropdown functionality
        const siteinfoToggle = document.getElementById('siteinfo-toggle');
        const siteinfoMenu = document.getElementById('siteinfo-menu');
        const siteinfoChevron = document.getElementById('siteinfo-chevron');

        function expandSiteinfoMenu() {
            siteinfoMenu.style.maxHeight = siteinfoMenu.scrollHeight + 'px';
            siteinfoChevron.style.transform = 'rotate(180deg)';
            siteinfoToggle.classList.add('bg-gray-50', 'dark:bg-gray-800');
        }

        function collapseSiteinfoMenu() {
            siteinfoMenu.style.maxHeight = '0px';
            siteinfoChevron.style.transform = 'rotate(0deg)';
            siteinfoToggle.classList.remove('bg-gray-50', 'dark:bg-gray-800');
        }

        if (!siteinfoToggle || !siteinfoMenu || !siteinfoChevron) {
            console.warn('SideNav: Missing site info menu elements');
        } else {
            const currentPath = window.location.pathname;
            const isSiteInfoPage = currentPath.includes('sitemap') || currentPath.includes('/status') || currentPath.includes('/stats') || currentPath.includes('template_list') || currentPath.includes('website_stats');

            if (isSiteInfoPage) {
                expandSiteinfoMenu();
            }

            siteinfoToggle.addEventListener('click', function (e) {
                e.preventDefault();
                if (siteinfoMenu.style.maxHeight === '0px' || siteinfoMenu.style.maxHeight === '') {
                    expandSiteinfoMenu();
                } else {
                    collapseSiteinfoMenu();
                }
            });
        }

        // ========== SEARCH FUNCTIONALITY FOR SIDEBAR NAVIGATION ==========
        const searchInput = document.getElementById('nav-search-input');
        const sidebarNav = document.querySelector('.sidebar nav');
        const sections = sidebarNav ? Array.from(sidebarNav.querySelectorAll(':scope > div')) : [];

        function collapseMenuByToggleId(toggleId) {
            const menu = document.getElementById(toggleId.replace('-toggle', '-menu'));
            const chevron = document.getElementById(toggleId.replace('-toggle', '-chevron'));
            if (menu) menu.style.maxHeight = '0px';
            if (chevron) chevron.style.transform = 'rotate(0deg)';
        }

        function expandMenuByToggleId(toggleId) {
            const menu = document.getElementById(toggleId.replace('-toggle', '-menu'));
            const chevron = document.getElementById(toggleId.replace('-toggle', '-chevron'));
            if (menu) menu.style.maxHeight = menu.scrollHeight + 'px';
            if (chevron) chevron.style.transform = 'rotate(180deg)';
        }

        if (searchInput) {
            searchInput.addEventListener('input', function (e) {
                const term = (e.target.value || '').trim().toLowerCase();

                // Clear search: restore visibility and collapse menus
                if (!term) {
                    sections.forEach(section => {
                        section.style.display = '';
                        const toggle = section.querySelector('button[id$="-toggle"]');
                        if (toggle && toggle.id) collapseMenuByToggleId(toggle.id);
                        // show all links inside
                        section.querySelectorAll('a').forEach(a => a.style.display = '');
                    });
                    return;
                }

                // For each top-level section, check its heading and links
                sections.forEach(section => {
                    let sectionMatched = false;

                    const toggle = section.querySelector('button[id$="-toggle"]');
                    const headingText = toggle ? (toggle.textContent || '').toLowerCase() : '';
                    if (headingText.includes(term)) {
                        sectionMatched = true;
                    }

                    // Check links inside the section
                    const links = Array.from(section.querySelectorAll('a'));
                    links.forEach(link => {
                        const text = (link.textContent || '').toLowerCase();
                        const title = (link.getAttribute('title') || '').toLowerCase();
                        const matches = text.includes(term) || title.includes(term);
                        link.style.display = matches ? '' : 'none';
                        if (matches) sectionMatched = true;

                        // If the link is inside a menu, ensure the menu is expanded when matched
                        const menuAncestor = link.closest('[id$="-menu"]');
                        if (menuAncestor) {
                            const menuToggleId = menuAncestor.id.replace('-menu', '-toggle');
                            if (matches) expandMenuByToggleId(menuToggleId);
                            else {
                                // hide unmatched link only; don't collapse the whole menu here
                            }
                        }
                    });

                    if (sectionMatched) {
                        section.style.display = '';
                        if (toggle && toggle.id) expandMenuByToggleId(toggle.id);
                    } else {
                        section.style.display = 'none';
                        // also collapse menu if present
                        if (toggle && toggle.id) collapseMenuByToggleId(toggle.id);
                    }
                });
            });
        }
    });
</script>
