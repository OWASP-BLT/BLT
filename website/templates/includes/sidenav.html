{% load static %}
{% load i18n %}
{% load custom_tags %}
<!-- Include Font Awesome CSS -->
<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    .scrollbar-none {
        scrollbar-width: none;
        -ms-overflow-style: none;
    }
    .nav-section-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out;
    }
    .nav-section-content.expanded {
        max-height: 2000px;
        transition: max-height 0.5s ease-in;
    }
    .nav-section-toggle i {
        transition: transform 0.3s ease;
    }
    .nav-section-toggle.expanded i {
        transform: rotate(90deg);
    }
</style>
<div class="sidebar fixed left-0 top-16 h-[calc(100vh-4rem)] bg-white dark:bg-gray-900 border-r border-gray-300 dark:border-gray-700 transform -translate-x-full transition-all duration-300 ease-in-out z-[10000] w-full max-w-[350px] min-w-[280px] max-[360px]:max-w-[90vw] max-[360px]:min-w-[240px] shadow-lg dark:shadow-gray-800">
    <div class="h-full flex flex-col justify-between overflow-hidden">
        <div class="overflow-y-auto flex-grow py-2 scrollbar-none">
            <!-- Main Navigation -->
            <nav class="px-2 space-y-1 mb-8 mt-2">
                <!-- Dashboard Section -->
                {% if '/organization/' in request.path %}
                    <div class="nav-section">
                        <button class="nav-section-toggle w-full flex items-center justify-between px-2 py-2 text-sm text-[#e74c3c] dark:text-[#e74c3c] font-semibold uppercase tracking-wider hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors"
                                data-section="dashboard">
                            <span>{% trans "Dashboard" %}</span>
                            <i class="fas fa-chevron-right text-xs"></i>
                        </button>
                        <div class="nav-section-content expanded" id="dashboard-content">
                            {% if request.resolver_match.kwargs.id %}
                                <a href="{% url 'organization_analytics' request.resolver_match.kwargs.id %}"
                                   class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'organization_analytics' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'organization_analytics' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                        <i class="fas fa-chart-line text-sm"></i>
                                    </div>
                                    <span class="truncate text-sm">{% trans "Analytics" %}</span>
                                </a>
                                <a href="{% url 'organization_team_overview' request.resolver_match.kwargs.id %}"
                                   class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'organization_team_overview' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'organization_team_overview' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                        <i class="fas fa-users text-sm"></i>
                                    </div>
                                    <span class="truncate text-sm">{% trans "Team Overview" %}</span>
                                </a>
                                <a href="{% url 'organization_manage_bugs' request.resolver_match.kwargs.id %}"
                                   class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_bugs' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'organization_manage_bugs' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                        <i class="fas fa-bug text-sm"></i>
                                    </div>
                                    <span class="truncate text-sm">{% trans "Bugs" %}</span>
                                </a>
                                <a href="{% url 'organization_manage_domains' request.resolver_match.kwargs.id %}"
                                   class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_domains' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'organization_manage_domains' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                        <i class="fas fa-globe text-sm"></i>
                                    </div>
                                    <span class="truncate text-sm">{% trans "Domains" %}</span>
                                </a>
                                <a href="{% url 'organization_manage_bughunts' request.resolver_match.kwargs.id %}"
                                   class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_bughunts' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'organization_manage_bughunts' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                        <i class="fas fa-trophy text-sm"></i>
                                    </div>
                                    <span class="truncate text-sm">{% trans "Bug Bounties" %}</span>
                                </a>
                                <a href="{% url 'organization_manage_roles' request.resolver_match.kwargs.id %}"
                                   class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_roles' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'organization_manage_roles' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                        <i class="fas fa-user-tag text-sm"></i>
                                    </div>
                                    <span class="truncate text-sm">{% trans "Roles" %}</span>
                                </a>
                                <a href="{% url 'organization_manage_integrations' request.resolver_match.kwargs.id %}"
                                   class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_integrations' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'organization_manage_integrations' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                        <i class="fas fa-puzzle-piece text-sm"></i>
                                    </div>
                                    <span class="truncate text-sm">{% trans "Integrations" %}</span>
                                </a>
                                <a href="{% url 'organization_manage_jobs' request.resolver_match.kwargs.id %}"
                                   class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'organization_manage_jobs' or request.resolver_match.url_name == 'create_job' or request.resolver_match.url_name == 'edit_job' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'organization_manage_jobs' or request.resolver_match.url_name == 'create_job' or request.resolver_match.url_name == 'edit_job' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                        <i class="fas fa-briefcase text-sm"></i>
                                    </div>
                                    <span class="truncate text-sm">{% trans "Manage Jobs" %}</span>
                                </a>
                                <a href="{% url 'slack_channels_list' %}"
                                   class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'slack_channels_list' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'slack_channels_list' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                        <i class="fab fa-slack text-sm"></i>
                                    </div>
                                    <span class="truncate text-sm">{% trans "Slack Channels" %}</span>
                                </a>
                            {% endif %}
                        </div>
                    </div>
                {% endif %}
                <!-- Bounties Section -->
                <div class="nav-section">
                    <button class="nav-section-toggle w-full flex items-center justify-between px-2 py-2 text-sm text-[#e74c3c] dark:text-[#e74c3c] font-semibold uppercase tracking-wider hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors"
                            data-section="bounties">
                        <span>{% trans "Bounties" %}</span>
                        <i class="fas fa-chevron-right text-xs"></i>
                    </button>
                    <div class="nav-section-content" id="bounties-content">
                        <a href="{% url 'hunts' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'hunts' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'hunts' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-search text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Bounties" %}</span>
                        </a>
                        <a href="{% url 'issues' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'issues' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'issues' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-bug text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Bugs" %}</span>
                        </a>
                        <a href="{% url 'github_issues' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'github_issues' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'github_issues' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fab fa-github text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Issues" %}</span>
                        </a>
                        <a href="{% url 'scoreboard' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'scoreboard' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'scoreboard' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-trophy text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Scoreboard" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Projects Section -->
                <div class="nav-section">
                    <button class="nav-section-toggle w-full flex items-center justify-between px-2 py-2 text-sm text-[#e74c3c] dark:text-[#e74c3c] font-semibold uppercase tracking-wider hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors"
                            data-section="projects">
                        <span>{% trans "Projects" %}</span>
                        <i class="fas fa-chevron-right text-xs"></i>
                    </button>
                    <div class="nav-section-content" id="projects-content">
                        <a href="{% url 'project_list' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'project_list' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'project_list' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-box text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Projects" %}</span>
                        </a>
                        <a href="{% url 'repo_list' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'repo_list' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'repo_list' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fab fa-github text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Repositories" %}</span>
                        </a>
                        <a href="{% url 'BiddingData' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'BiddingData' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'BiddingData' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-money-bill-wave text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Bid on Issues" %}</span>
                        </a>
                        <a href="{% url 'bacon' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'bacon' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'bacon' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-coins text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "BACON" %}</span>
                        </a>
                        <a href="{% url 'gsoc_pr_report' %}"
                           class="group flex items-center px-2 py-2 text-lg font-medium rounded-md {% if request.resolver_match.url_name == 'gsoc_pr_report' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center {% if request.resolver_match.url_name == 'gsoc_pr_report' %}text-[#e74c3c]{% else %}text-gray-500 dark:text-gray-400 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-code-pull-request"></i>
                            </div>
                            <span class="truncate">{% trans "GSOC PR Reports" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Organizations Section -->
                <div class="nav-section">
                    <button class="nav-section-toggle w-full flex items-center justify-between px-2 py-2 text-sm text-[#e74c3c] dark:text-[#e74c3c] font-semibold uppercase tracking-wider hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors"
                            data-section="organizations">
                        <span>{% trans "Organizations" %}</span>
                        <i class="fas fa-chevron-right text-xs"></i>
                    </button>
                    <div class="nav-section-content" id="organizations-content">
                        <a href="{% url 'organizations' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'organizations' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'organizations' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-building text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Organizations" %}</span>
                        </a>
                        <a href="{% url 'register_organization' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'register_organization' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'register_organization' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-plus text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Register" %}</span>
                        </a>
                        <a href="{% url 'domains' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'domains' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'domains' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-globe text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Domains" %}</span>
                        </a>
                        <a href="{% url 'hackathons' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'hackathons' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'hackathons' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-trophy text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Hackathons" %}</span>
                        </a>
                        <a href="{% url 'public_job_list' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'public_job_list' or request.resolver_match.url_name == 'job_detail' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'public_job_list' or request.resolver_match.url_name == 'job_detail' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-briefcase text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Jobs" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Account Section -->
                {% if request.user.is_authenticated %}
                    <div class="nav-section">
                        <button class="nav-section-toggle w-full flex items-center justify-between px-2 py-2 text-sm text-[#e74c3c] dark:text-[#e74c3c] font-semibold uppercase tracking-wider hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors"
                                data-section="account">
                            <span>{% trans "Account" %}</span>
                            <i class="fas fa-chevron-right text-xs"></i>
                        </button>
                        <div class="nav-section-content" id="account-content">
                            <a href="{% url 'users' %}"
                               class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'users' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'users' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <i class="fas fa-user-friends text-sm"></i>
                                </div>
                                <span class="truncate text-sm">{% trans "Users" %}</span>
                            </a>
                            <a href="{% url 'messaging' %}"
                               class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'messaging' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'messaging' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <i class="fas fa-envelope text-sm"></i>
                                </div>
                                <span class="truncate text-sm">{% trans "Messaging" %}</span>
                            </a>
                            <a href="{% url 'leaderboard_global' %}"
                               class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'leaderboard_global' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'leaderboard_global' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <i class="fas fa-medal text-sm"></i>
                                </div>
                                <span class="truncate text-sm">{% trans "Leaderboard" %}</span>
                            </a>
                            <a href="{% url 'user_challenges' %}"
                               class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'user_challenges' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'user_challenges' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <i class="fas fa-flag-checkered text-sm"></i>
                                </div>
                                <span class="truncate text-sm">{% trans "Challenges" %}</span>
                            </a>
                            <a href="{% url 'staking_home' %}"
                               class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'staking_home' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'staking_home' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <i class="fas fa-coins text-sm"></i>
                                </div>
                                <span class="truncate text-sm">{% trans "Staking" %}</span>
                            </a>
                            <a href="{% url 'badges' %}"
                               class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'badges' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'badges' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                    <i class="fas fa-certificate text-sm"></i>
                                </div>
                                <span class="truncate text-sm">{% trans "Badges" %}</span>
                            </a>
                        </div>
                    </div>
                {% endif %}
                <!-- More Section (Collapsible for less frequently used items) -->
                <div class="nav-section">
                    <button class="nav-section-toggle w-full flex items-center justify-between px-2 py-2 text-sm text-[#e74c3c] dark:text-[#e74c3c] font-semibold uppercase tracking-wider hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors"
                            data-section="more">
                        <span>{% trans "More" %}</span>
                        <i class="fas fa-chevron-right text-xs"></i>
                    </button>
                    <div class="nav-section-content" id="more-content">
                        <a href="{% url 'team_overview' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'team_overview' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'team_overview' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-users text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Teams" %}</span>
                        </a>
                        <a href="{% url 'rooms_list' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'rooms_list' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'rooms_list' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-door-open text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Rooms" %}</span>
                        </a>
                        <a href="{% url 'video_call' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'video_call' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'video_call' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-video text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Video Call" %}</span>
                        </a>
                        <a href="{% url 'feed' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'feed' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'feed' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-rss text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Feed" %}</span>
                        </a>
                        <a href="{% url 'sizzle' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'sizzle' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'sizzle' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-fire text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Time Logs" %}</span>
                        </a>
                        <a href="{% url 'about' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'about' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'about' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-info-circle text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "About" %}</span>
                        </a>
                        <a href="{% url 'contribution_guidelines' %}"
                           class="group flex items-center px-2 py-2 text-base font-medium rounded-md {% if request.resolver_match.url_name == 'contribution_guidelines' %}bg-[#feeae9] text-[#e74c3c] dark:bg-red-900/30 dark:text-[#e74c3c]{% else %}text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-[#e74c3c] dark:hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                            <div class="mr-3 flex-shrink-0 flex items-center justify-center w-7 h-7 rounded-md {% if request.resolver_match.url_name == 'contribution_guidelines' %}bg-[#fde0dd] text-[#e74c3c] dark:bg-red-900/50 dark:text-[#e74c3c]{% else %}bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-[#fde0dd] dark:group-hover:bg-red-900/50 group-hover:text-[#e74c3c] dark:group-hover:text-[#e74c3c]{% endif %} transition-all duration-200">
                                <i class="fas fa-hands-helping text-sm"></i>
                            </div>
                            <span class="truncate text-sm">{% trans "Contribute" %}</span>
                        </a>
                    </div>
                </div>
                <!-- Language selector -->
                <div class="px-2 py-2 mt-2">
                    <span class="text-sm text-[#e74c3c] font-medium uppercase tracking-wider">{% trans "Language" %}</span>
                </div>
                <form action="{% url 'set_language' %}" method="post" class="px-2">
                    {% csrf_token %}
                    <div class="relative mt-1">
                        <div class="flex items-center">
                            <i class="fas fa-globe-americas mr-3 text-[#e74c3c]"></i>
                            <select name="language"
                                    onchange="this.form.submit()"
                                    class="appearance-none w-full pl-2 pr-8 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#e74c3c] focus:border-[#e74c3c]">
                                {% get_current_language as LANGUAGE_CODE %}
                                {% get_available_languages as LANGUAGES %}
                                {% for lang_code, lang_name in LANGUAGES %}
                                    <option value="{{ lang_code }}"
                                            {% if lang_code == LANGUAGE_CODE %}selected{% endif %}>
                                        {{ lang_name }}
                                    </option>
                                {% endfor %}
                            </select>
                            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4">
                                <i class="fas fa-chevron-down text-gray-400 dark:text-gray-600"></i>
                            </div>
                        </div>
                    </div>
                </form>
            </nav>
        </div>
        <div class="sticky bottom-0 bg-white dark:bg-gray-900 border-t border-gray-300 dark:border-gray-700 p-4 w-full z-[10001] md:hidden">
            <div class="flex items-center justify-between">
                <span class="text-lg font-medium text-gray-700 dark:text-gray-200">Theme</span>
                {% include 'dark_mode_toggle.html' %}
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Collapsible navigation sections
        const navToggles = document.querySelectorAll('.nav-section-toggle');
        
        navToggles.forEach(toggle => {
            toggle.addEventListener('click', function() {
                const section = this.getAttribute('data-section');
                const content = document.getElementById(section + '-content');
                const isExpanded = content.classList.contains('expanded');
                
                // Toggle expanded class
                if (isExpanded) {
                    content.classList.remove('expanded');
                    this.classList.remove('expanded');
                } else {
                    content.classList.add('expanded');
                    this.classList.add('expanded');
                }
            });
        });

        // Auto-expand section if current page is in that section
        const currentPath = window.location.pathname;
        const sections = {
            'dashboard': ['/organization/'],
            'bounties': ['/hunts', '/issues', '/scoreboard'],
            'projects': ['/project', '/repo', '/bacon'],
            'organizations': ['/organizations', '/domains', '/hackathons', '/jobs'],
            'account': ['/users', '/messaging', '/leaderboard', '/challenges', '/staking', '/badges'],
            'more': ['/team', '/rooms', '/video', '/feed', '/sizzle', '/about', '/contribution']
        };

        for (const [section, paths] of Object.entries(sections)) {
            if (paths.some(path => currentPath.includes(path))) {
                const toggle = document.querySelector(`[data-section="${section}"]`);
                const content = document.getElementById(section + '-content');
                if (toggle && content) {
                    content.classList.add('expanded');
                    toggle.classList.add('expanded');
                }
            }
        }
    });
</script>
