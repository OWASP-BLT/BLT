{% extends "base.html" %}
{% load static %}
{% load gravatar %}
{% load socialaccount %}
{% load humanize %}
{% providers_media_js %}
{% load i18n %}f
{% block content %}
<script src="{% static 'js/jquery.validate.js' %}"></script>
<script src="{% static 'js/activity.js' %}"></script>
<style>
    .example{
        background-color: #ffffff;
        border-width: 1px;
        border-color: #c4c4c4;
    }
    .example:hover{
        background-color: #FD0E35;
        color: #ffffff;
    }
</style>
<div class="w-full h-[30rem] flex flex-col  space-y-14 items-center">
    <p class="mt-20 font-sans text-5xl text-center sm:text-6xl lg:text-7xl">Find Bugs, Win Points and Prizes</p>

    <hr class="w-full bg-black"/>

    <section class="hero">
        <div class="text-slider">
            <ul>
                <li class="text-slider-list">
                    <h2 class="text-4xl text-slider-line active-line animated fadeInUp">{% trans "Fix issues on websites, apps or hardware (+3 points)" %}</h2>
                </li>
                <li class="text-slider-list">
                    <h2 class="text-4xl text-slider-line animated fadeInUp">{% trans "Verify other bug reports(+2 points)" %}</h2>
                </li>
                <li class="text-slider-list">
                    <h2 class="text-4xl text-slider-line animated fadeInUp">{% trans "Invite friends (when they signup , get +1 point)" %}</h2>
                </li>
                <li class="text-slider-list">
                    <h2 class="text-4xl text-slider-line animated fadeInUp">{% trans "Find a bug on a new site or app (+4 points)" %}
                    </h2>
                </li>
            </ul>
        </div>
    </section>
</div>

<div class="flex flex-wrap justify-center w-full p-0 m-0">


    <div class="border-2 w-[350px] m-5 py-5 h-[250px] rounded-lg flex flex-col items-center justify-around">
        <i class="mt-5 fa fa-exclamation-triangle fa-3x"></i>
        <p class="text-3xl font-bold">{% trans "Number Error" %}</p>
        <p class="w-1/2 text-center">{% trans "For pages where you see a number 404, 500." %}</p>
        <button onclick="example('/search/?query=1&type=label')" class="border-2 border-gray-400 px-14 py-2 transform hover:translate-y-0.5 hover:shadow-lg example">Examples</button>
    </div>

    <div class="border-2 w-[350px] m-5 py-5 h-[250px] rounded-lg flex flex-col items-center justify-around">
        <i class="mt-5 fa fa-trophy fa-3x"></i>
        <p class="text-3xl font-bold">{% trans "Functional" %}</p>
        <p class="w-1/2 text-center">{% trans "Something doesn't work as intended" %}</p>
        <button onclick="example('/search/?query=2&type=label')" class="border-2 border-gray-400 px-14 py-2 transform hover:translate-y-0.5 hover:shadow-lg example">Examples</button>
    </div>

    <div class="border-2 w-[350px] m-5 py-5 h-[250px] rounded-lg flex flex-col items-center justify-around">
        <i class="mt-5 fa fa-flash fa-3x"></i>
        <p class="text-3xl font-bold">{% trans "Performance" %}</p>
        <p class="w-1/2 text-center">{% trans "Any process that takes over 5 seconds." %}</p>
        <button onclick="example('/search/?query=3&type=label')" class="border-2 border-gray-400 px-14 py-2 transform hover:translate-y-0.5 hover:shadow-lg example">Examples</button>
    </div>

    <div class="border-2 w-[350px] m-5 py-5 h-[250px] rounded-lg flex flex-col items-center justify-around">
        <i class="mt-5 fa fa-flash fa-3x"></i>
        <p class="text-3xl font-bold">{% trans "Security" %}</p>
        <p class="w-1/2 text-center">{% trans "Data leaks, exploits or anything smelly." %}</p>
        <button onclick="example('/search/?query=4&type=label')" class="border-2 border-gray-400 px-14 py-2 transform hover:translate-y-0.5 hover:shadow-lg example">Examples</button>
    </div>

    <div class="border-2 w-[350px] m-5 py-5 h-[250px] rounded-lg flex flex-col items-center justify-around">
        <i class="mt-5 fa fa-flash fa-3x"></i>
        <p class="text-3xl font-bold">{% trans "Typo" %}</p>
        <p class="w-1/2 text-center">{% trans "Miss-spellings, miss-grammar and more." %}</p>
        <button onclick="example('/search/?query=5&type=label')" class="border-2 border-gray-400 px-14 py-2 transform hover:translate-y-0.5 hover:shadow-lg example">Examples</button>
    </div>

    <div class="border-2 w-[350px] m-5 py-5 h-[250px] rounded-lg flex flex-col items-center justify-around">
        <i class="mt-5 fa fa-flash fa-3x"></i>
        <p class="text-3xl font-bold">{% trans "Design" %}</p>
        <p class="w-1/2 text-center">{% trans "Layout, responsiveness and improvements" %}</p>
        <button onclick="example('/search/?query=6&type=label')" class="border-2 border-gray-400 px-14 py-2 transform hover:translate-y-0.5 hover:shadow-lg example">Examples</button>
    </div>

    <div class="border-2 w-[350px] m-5 py-5 h-[250px] rounded-lg flex flex-col items-center justify-around">
        <i class="mt-5 fa fa-flash fa-3x"></i>
        <p class="text-3xl font-bold">{% trans "Server Down" %}</p>
        <p class="w-1/2 text-center">{% trans "500 Server Error and Downtime" %}</p>
        <button onclick="example('/search/?query=7&type=label')" class="border-2 border-gray-400 px-14 py-2 transform hover:translate-y-0.5 hover:shadow-lg example">Examples</button>
    </div>

</div>

<div class="w-full min-h-[200px] mt-[60px] flex justify-center">
    <div class="w-[80%] h-full">
        <div class="flex flex-wrap items-center justify-around w-full mt-5">
            <div class="w-full lg:w-[200px] h-[55px] bg-blue-600 flex justify-center items-center rounded-md m-4">
                <p class="text-3xl text-white"> <i class="fa fa-bug"></i> {{bug_count}} Bugs</p>
            </div>
            <div class="w-full lg:w-[200px] h-[55px] bg-green-600 flex justify-center items-center rounded-md m-4">
                <p class="text-3xl text-white"> <i class="fa fa-user"></i> {{user_count}} Users</p>
            </div>
            <div class="w-full lg:w-[200px] h-[55px] bg-yellow-600 flex justify-center items-center rounded-md m-4">
                <p class="text-3xl text-white"> <i class="fa fa-bullseye"></i> {{hunt_count}} Hunts</p>
            </div>
            <div class="w-full lg:w-[200px] h-[55px] bg-red-600 flex justify-center items-center rounded-md m-4">
                <p class="text-3xl text-white"> <i class="fa fa-support"></i> {{domain_count}} Domains</p>
            </div>
        </div>
    </div>
</div>

{% if ended_hunts %}
    <p class="text-7xl text-center mb-8 font-sans text-[#B1B1B1]">ENDED HUNTS</p>
    <div class="flex justify-center w-full">
        <a href="/" class="px-8 py-3 text-2xl font-bold text-center text-white bg-red-500 rounded-lg">View Ongoing Hunts</a>
    </div>
{% else %}
    <p class="text-7xl text-center mb-8 font-sans text-[#B1B1B1]">LATEST HUNTS</p>
    <div class="flex justify-center w-full">
        <a href="/?latest_hunts=ended" class="px-8 py-3 text-2xl font-bold text-center text-white bg-red-500 rounded-lg">View Ended Hunts</a>
    </div>
{% endif %}


<div class="flex items-center flex-wrap w-full justify-between mb-[100px] mt-20 sm:justify-center ">

    {% if top_hunts %}

        {% for hunt in top_hunts %}

        <div class="flex justify-between flex-col md:flex-row w-[700px] min-h-[200px] m-5 rounded-lg overflow-hidden bg-gray-700 p-[1px]">
            <div class="flex items-center justify-center w-full bg-gray-700 md:w-10 md:rotate-180">   
                <p class="text-2xl font-bold tracking-widest text-white md:rotate-90">LATEST</p>
            </div>

            <div class="flex w-full min-h-full bg-white">
                <div class="flex items-center h-full">
                    <div class="w-[250px] h-[200px] p-5">
                        <img src="{{server_url}}/media/{{hunt.logo}}" class="object-fill w-full h-full" alt="Bughunt Logo">
                    </div>  
                </div>
                <div class="flex flex-col w-[70%] h-full pt-7">
                    <p class="text-4xl font-semibold text-black">{{ hunt.name }}</p>
                    <div class="flex flex-col justify-between mt-10 h-1/2">
                        <div class="flex flex-col md:flex-row md:justify-between">
                            <div class="flex items-center w-full py-3 mr-4 rounded-lg md:mt-0">
                                <i class="mr-6 text-3xl text-gray-600 fa-solid fa-calendar-days"></i>
                                <p class="font-semibold text-black">{{ hunt.starts_on|date:"F" }} {{ hunt.starts_on__day }} {{ hunt.starts_on__year }} - {{ hunt.end_on|date:"F" }} {{ hunt.end_on__day }} {{ hunt.end_on__year }}</p>
                            </div>
                        </div>
                        <div class="flex flex-col md:flex-row md:justify-between">
                            <div class="flex items-center w-full rounded-lg">
                                <i class="mr-5 text-3xl text-gray-600 fa-solid fa-globe"></i>
                                <a href="{{ hunt.url }}" class="font-semibold text-black">{{ hunt.url }}</a>
                            </div>
                        </div>
                        <div class="flex flex-col md:flex-row md:justify-between">
                            <div class="flex items-center w-full py-3 rounded-lg">
                                <i class="mr-8 text-3xl text-gray-600 fa-solid fa-dollar-sign"></i>
                                <p class="font-semibold text-black">{{ hunt.total_prize }}</p>
                            </div>
                        </div>
                    </div>
                
                    <div class="flex w-full mt-5 mb-10">
                        <a href="{% url 'show_bughunt' hunt.id %}" class="flex items-center justify-center w-full py-3 mt-3 mr-4 bg-red-500 rounded-lg md:mt-0 md:w-full hover:bg-red-700">
                            <p class="font-semibold text-white">MORE INFO</p>
                        </a>
                    </div>
                </div>
            </div>

        </div>

        {% endfor %}
    
        {% else %}
        <div class="flex justify-center w-full">
            <p class="text-red-500">No ongoing hunt's found.</p>
       </div>
        {% endif %}

</div>

    
    


<p class="text-7xl text-center mb-[100px] font-sans text-[#B1B1B1]">LEADER BOARDS</p>
<div class="flex flex-wrap justify-around w-full">

    <div class="w-[500px] h-full border-[1px] border-gray-400 rounded-sm bg-white mx-2 mb-10">
        <div class="w-full h-[80px]  flex justify-center items-center">
            <p class="text-5xl font-bold">TOP COMPANY</p>
        </div>
        <div class="w-full">
            {% for company in top_companies %}
                <div class="w-full h-[75px] border-y-[1.1px] px-6 border-gray-300 flex justify-between items-center cursor-pointer shadow-sm transform hover:-translate-y-1 hover:shadow-lg">
                    <p class="text-3xl font-bold">{{ forloop.counter }}</p>
                    <div class="w-[50%] h-[100%] flex flex-col justify-center">
                        <p class="text-3xl font-bold text-left">{{company.domain__name}}</p>
                        <p class="mt-2 text-2xl">{{ company.count }}</p>
                    </div>
                    <a class="py-4 text-2xl font-bold text-white bg-red-500 px-9 hover:no-underline hover:text-white" href="{% url 'domain' slug=company.domain__name %}" >SUBMIT A BUG</a>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="w-[500px] h-full border-[1px] border-gray-400 rounded-sm bg-white mx-2 mb-10">
        <div class="w-full h-[80px]  flex justify-center items-center">
            <p class="text-5xl font-bold">TOP TESTER</p>
        </div>
        <div class="w-full">
            {% for tester in top_testers %}
                <div class="w-full h-[75px] border-y-[1.1px] px-6 border-gray-300 flex justify-between items-center cursor-pointer shadow-sm transform hover:-translate-y-1 hover:shadow-lg">
                    <p class="text-3xl font-bold">{{ forloop.counter }}</p>
                    <div class="w-[50%] h-[100%] flex flex-col justify-center">
                        <p class="text-3xl font-bold text-left">{{tester.user__username}}</p>
                        <p class="mt-2 text-2xl">{{ tester.count }}</p>
                    </div>
                    <a class="py-4 text-2xl font-bold text-white bg-red-500 px-9 hover:no-underline hover:text-white" href="{% url 'profile' slug=tester.user__username %}" >VIEW PROFILE</a>
                </div>
            {% endfor %}
        </div>
    </div>

</div>



<div class="row" data-intro="View latest activities here." data-step="3" style="margin-left: 10px; margin-top: 60px;">
    <div class="col-md-8">
        <h1 class="page-sub-header">Latest activity</h1>
        <div class="list-group">
            {% for activity in activities %}
            {% include '_activity.html' %}
            {% endfor %}
        </div>
        <a href="/all_activity" class="btn btn-default btn-block">View All Activity</a>
    </div>
    <div class="col-md-4">
        <div class="row">
            <div class="panel panel-default">
                <div class="panel-heading page-sub-header">
                    {% now "F" %} {% trans "Leaderboard" %}
                </div>
                <br>
                <div class="panel-body leaderboard-panel">
                    <strong>The 1st Place Hunter for {% now "F" %} will receive</strong>
                    <div class="box leaderboardbox">
                        <strong>No sponsored prizes this month</strong></br>
                        <form name="_xclick" action="https://www.paypal.com/cgi-bin/webscr" method="post" style="display:inline;margin-bottom:10px;">
                            <input type="hidden" name="cmd" value="_xclick">
                            <input type="hidden" name="business" value="coderbounty@gmail.com">
                            <input type="hidden" name="item_name" value="Sponsor a Prize for the {% now " F" %}
                                Leaderboard">
                            <input type="hidden" name="currency_code" value="USD">
                            <button href="/sponsor" class="bg-red-500 text-white px-4 py-2 rounded text-xl border border-[#ac2925] hover:bg-[#c9302c] hover:border-[#761c19]">Sponsor a Prize </button>
                        </form>
                        
                    </div>
                </div>

                <div class="list-group">
                    {% if leaderboard %}
                    {% for leader in leaderboard %}
                    <div class="list-group-item activity-strip" style="height: 80px; border: 1px solid #DDDDDD">
                        {% if leader.socialaccount_set.all.0.get_avatar_url %}
                        <img src="{{ leader.socialaccount_set.all.0.get_avatar_url }}" class="profileimage" width="50"
                            height="50">
                        {% else %}
                        <img src="{% gravatar_url leader.email 50 %}" class="profileimage">
                        {% endif %}
                        <a href="/profile/{{ leader.username }}" class="text-capitalize leaderboard-name">{{leader.username|truncatechars:20 }}</a>
                        <span class="label label-success leaderboard-rank">{{ forloop.counter|ordinal }}</span>
                        <div class="badge leaderboard-points">{{ leader.total_score }} Points</div>
                    </div>
                    {% endfor %}
                    {% else %}
                    </br> Leaderboard reset for {% now "F" %}. Be first to find issues!
                    {% endif %}
                </div>
                <a href="/leaderboard" class="btn btn-default btn-block submit_button">View All</a>
                <a href="/leaderboard/monthly" class="btn btn-default btn-block submit_button">Filter Monthly</a>
                <a href="/leaderboard/each-month" class="btn btn-default btn-block submit_button">View Monthly</a>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-sub-header">Bugheist is 100% free to use, Open Source and a non-commercial, not for profit initiative.</h1>
    </div>
</div>


<script>
    function example(relative_path){
        window.location.href = relative_path;
    }
</script>

{% endblock %}


