name = "bug-reporter-api"
compatibility_date = "2023-09-01"
pages_build_output_dir = "dist"

[env.production]
name = "bug-reporter-api"

[[d1_databases]]
binding = "DB"
database_name = "bug-reporter-db"
database_id = "your-d1-database-id-here"

# R2 bucket for file uploads
[[r2_buckets]]
binding = "UPLOADS"
bucket_name = "bug-reporter-uploads"

# Environment variables - DO NOT commit secrets!
# Use wrangler secret put to set these in production:
# wrangler secret put JWT_SECRET
# wrangler secret put ADMIN_EMAIL
# wrangler secret put CORS_ORIGINS
# wrangler secret put R2_PUBLIC_BASE_URL

[vars]
# These will be overridden by secrets in production
JWT_SECRET = "your-jwt-secret-here"
ADMIN_EMAIL = "admin@example.com"
CORS_ORIGINS = "http://localhost:5173"
R2_PUBLIC_BASE_URL = "https://pub-your-account-id.r2.dev/bug-reporter-uploads"
